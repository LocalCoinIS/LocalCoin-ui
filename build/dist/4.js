(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{111:function(e,t,n){"use strict";var a=n(0),o=n.n(a),r=n(514),i=n.n(r),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={animateEnter:!1},e.timer=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),s(t,[{key:"componentDidMount",value:function(){this.enableAnimation()}},{key:"resetAnimation",value:function(){this.setState({animateEnter:!1}),this.enableAnimation()}},{key:"enableAnimation",value:function(){var e=this;this.timer=setTimeout(function(){e.timer&&e.setState({animateEnter:!0})},2e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer),this.timer=null}},{key:"render",value:function(){return this.props.children?o.a.createElement(i.a,{className:this.props.className,component:this.props.component,transitionName:this.props.transitionName,transitionEnterTimeout:this.props.enterTimeout,transitionEnter:this.state.animateEnter,transitionLeave:!1},this.props.children):o.a.createElement(this.props.component)}}]),t}();c.defaultProps={component:"span",enterTimeout:2e3},t.a=c},114:function(e,t,n){"use strict";var a=n(4),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getPairsCourse=function(e){this.ajax(e,"GetPairsCourse")}}return o(e,[{key:"getBaseUrl",value:function(){return"https://llcgateway.localcoin.is/"}},{key:"getAllowCurrency",value:function(e){this.ajax(e,"GetAllowCurrency")}},{key:"сreatePaymentAddress",value:function(e,t,n,a){this.ajax(function(e){a(e.address)},"CreatePaymentAddress",{account:e,asset:t,type:n})}},{key:"validateAddress",value:function(e,t,n){this.ajax(n,"ValidateAddress",{address:e,currency:t})}},{key:"ajax",value:function(e,t,n){void 0===n&&(n=null);var a=this.getBaseUrl()+"?methodnameaction="+t;n&&(a+="&"+this.encodeQueryData(n)),fetch(a).then(function(e){return e.json()}).then(e)}},{key:"encodeQueryData",value:function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}},{key:"precisionToCoef",value:function(e){for(var t="1",n=0;n<e;n++)t+="0";return parseInt(t)}},{key:"getUserBalance",value:function(e,t,n){var o=[],r=function(e,t,n){return e?t?t/n:0:t},i=e.get("balances").toJS();for(var s in i){var c=a.b.getAsset(s);if(c){var l=i[s],u=a.b.getObject(l),p=c.get("precision"),m=this.precisionToCoef(p);o[c.get("symbol")]=r(t,u.get("balance"),m)}}return void 0!==n?void 0!==o[n]?o[n]:0:o}}]),e}();t.a=r},450:function(e,t,n){"use strict";var a=n(0),o=n.n(a),r=n(6),i=n(13),s=n(5),c=n(3),l=n.n(c),u=n(43),p=n(20),m=n.n(p),d=n(2),f=n.n(d),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={deposit_amount:null,deposit_info:null,deposit_error:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),h(t,[{key:"onDepositAmountChange",value:function(e){var t=e.amount;e.asset;this.setState({deposit_amount:t})}},{key:"onSubmitDeposit",value:function(){var e=this,t=this.props.receive_asset,n=(s.a.get_asset_precision(t.get("precision")),this.state.deposit_amount.replace(/,/g,""));console.log("deposit_amount: ",n);var a={jsonrpc:"2.0",method:"getDepositAccount",params:{bitsharesAccountName:this.props.account.get("name"),currency:this.props.deposit_asset,amount:n},id:1};fetch(this.props.rpc_url,{method:"POST",headers:new Headers({Accept:"application/json","content-type":"application/x-www-form-urlencoded"}),body:"rq="+encodeURIComponent(JSON.stringify(a))}).then(function(e){return e.json()}).then(function(t){"result"in t?e.setState({deposit_info:t.result}):"error"in json_reponse&&"message"in t.error?e.setState({deposit_error:t.error.message}):e.setState({deposit_error:"Unable to approve deposit, please contact OpenLedger or try again later"})}).catch(function(t){e.setState({deposit_error:"Unable to approve deposit, please contact OpenLedger or try again later"})})}},{key:"onClose",value:function(){this.setState({deposit_amount:null,deposit_info:null,deposit_error:null}),m.a.publish(this.props.modal_id,"close")}},{key:"render",value:function(){if(this.state.deposit_error)return o.a.createElement("form",{className:"grid-block vertical full-width-content"},o.a.createElement("div",{className:"grid-container"},o.a.createElement("div",{className:"content-block"},o.a.createElement("h3",null,"Deposit Error")),o.a.createElement("div",{className:"content-block"},o.a.createElement("p",null,this.state.deposit_error)),o.a.createElement("div",{className:"content-block"},o.a.createElement("input",{type:"submit",className:"button",onClick:this.onClose.bind(this),value:"Close"}))));if(this.state.deposit_info){if("link"in this.state.deposit_info)return o.a.createElement("form",{className:"grid-block vertical full-width-content"},o.a.createElement("div",{className:"grid-container"},o.a.createElement("div",{className:"content-block"},o.a.createElement("h3",null,"Deposit Information")),o.a.createElement("div",{className:"content-block"},o.a.createElement("p",null,"Click"," ",o.a.createElement("a",{href:this.state.deposit_info.link,rel:"noopener noreferrer",target:"_blank"},"here")," ","for deposit instructions")),o.a.createElement("div",{className:"content-block"},o.a.createElement("input",{type:"submit",className:"button",onClick:this.onClose.bind(this),value:"Close"}))));var e=[];for(var t in this.state.deposit_info)this.state.deposit_info.hasOwnProperty(t)&&e.push(o.a.createElement("tr",null,o.a.createElement("td",null,t),o.a.createElement("td",null,this.state.deposit_info[t])));return o.a.createElement("form",{className:"grid-block vertical full-width-content"},o.a.createElement("div",{className:"grid-container"},o.a.createElement("div",{className:"content-block"},o.a.createElement("h3",null,"Deposit Information")),o.a.createElement("div",{className:"content-block"},o.a.createElement("table",{className:"table"},o.a.createElement("tbody",null,e))),o.a.createElement("div",{className:"content-block"},o.a.createElement("input",{type:"submit",className:"button",onClick:this.onClose.bind(this),value:l.a.translate("account.perm.cancel")}))))}return o.a.createElement("form",{className:"grid-block vertical full-width-content"},o.a.createElement("div",{className:"grid-container"},o.a.createElement("div",{className:"content-block"},o.a.createElement("h3",null,"Deposit ",this.props.deposit_asset)),o.a.createElement("div",{className:"content-block"},o.a.createElement(u.a,{label:"modal.deposit.amount",amount:this.state.deposit_amount,asset:this.props.receive_asset.get("id"),assets:[this.props.receive_asset.get("id")],placeholder:"0.0",onChange:this.onDepositAmountChange.bind(this),display_balance:null})),o.a.createElement("div",{className:"content-block"},o.a.createElement("input",{type:"submit",className:"button",onClick:this.onSubmitDeposit.bind(this),value:l.a.translate("modal.deposit.submit")}),o.a.createElement("input",{type:"submit",className:" button",onClick:this.onClose.bind(this),value:l.a.translate("account.perm.cancel")}))))}}]),t}();b.propTypes={account:r.a.ChainAccount.isRequired,issuer_account:r.a.ChainAccount.isRequired,deposit_asset:f.a.string,receive_asset:r.a.ChainAsset.isRequired,rpc_url:f.a.string},t.a=Object(i.a)(b)},451:function(e,t,n){"use strict";var a=n(0),o=n.n(a),r=n(62),i=n.n(r),s=n(1),c=n.n(s),l=n(6),u=n(13),p=n(5),m=n(57),d=n(3),f=n.n(d),h=n(43),b=n(24),v=n(2),y=n.n(v),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={withdraw_amount:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),_(t,[{key:"onWithdrawAmountChange",value:function(e){var t=e.amount;e.asset;this.setState({withdraw_amount:t})}},{key:"onSubmit",value:function(){var e=this,t=this.props.receive_asset,n=p.a.get_asset_precision(t.get("precision")),a=this.state.withdraw_amount.replace(/,/g,""),o={jsonrpc:"2.0",method:"getMemoForFiatWithdrawal",params:{bitsharesAccountName:this.props.account.get("name"),currency:this.props.deposit_asset,amount:a},id:1};fetch(this.props.rpc_url,{method:"POST",headers:new Headers({Accept:"application/json","content-type":"application/x-www-form-urlencoded"}),body:"rq="+encodeURIComponent(JSON.stringify(o))}).then(function(e){return e.json()}).then(function(o){if(!("result"in o))throw"error"in o&&"message"in o.error?json_repsonse.error.message:"Unable to approve withdrawal, please contact OpenLedger or try again later";b.a.transfer(e.props.account.get("id"),e.props.issuer_account.get("id"),parseInt(a*n,10),t.get("id"),o.result)}).catch(function(e){alert(e)})}},{key:"render",value:function(){var e=null,t=this.props.account.get("balances").toJS();if(Object.keys(t).length>0){var n=this.props.receive_asset.get("id");e=n?o.a.createElement("span",null,o.a.createElement(c.a,{component:"span",content:"transfer.available"}),":"," ",o.a.createElement(m.a,{balance:t[n]})):"No funds"}else e="No funds";return o.a.createElement("form",{className:"grid-block vertical full-width-content"},o.a.createElement("div",{className:"grid-container"},o.a.createElement("div",{className:"content-block"},o.a.createElement("h3",null,"Withdraw ",this.props.deposit_asset)),o.a.createElement("div",{className:"content-block"},o.a.createElement(h.a,{label:"modal.withdraw.amount",amount:this.state.withdraw_amount,asset:this.props.receive_asset.get("id"),assets:[this.props.receive_asset.get("id")],placeholder:"0.0",onChange:this.onWithdrawAmountChange.bind(this),display_balance:e})),o.a.createElement("div",{className:"content-block"},o.a.createElement("input",{type:"submit",className:"button",onClick:this.onSubmit.bind(this),value:f.a.translate("modal.withdraw.submit")}),o.a.createElement(i.a,{close:this.props.modal_id},o.a.createElement("div",{className:"button"},o.a.createElement(c.a,{content:"account.perm.cancel"}))))))}}]),t}();g.propTypes={account:l.a.ChainAccount.isRequired,issuer_account:l.a.ChainAccount.isRequired,deposit_asset:y.a.string,receive_asset:l.a.ChainAsset.isRequired,rpc_url:y.a.string},t.a=Object(u.a)(g)}}]);