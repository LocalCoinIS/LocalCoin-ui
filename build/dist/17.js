(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{115:function(e,t,n){"use strict";var a=n(73),s=n(6),r=n.n(s),o=n(24),i=n(123),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.assets=r.a.Map(),e.asset_symbol_to_id={},e.searchTerms={},e.lookupResults=[],e.assetsLoading=!1,e.bindListeners({onGetAssetList:i.a.getAssetList,onLookupAsset:i.a.lookupAsset}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["a"]),l(t,[{key:"onGetAssetList",value:function(e){var t=this;if(!e)return!1;this.assetsLoading=e.loading,e.assets&&e.assets.forEach(function(n){for(var a=0;a<e.dynamic.length;a++)if(e.dynamic[a].id===n.dynamic_asset_data_id){n.dynamic=e.dynamic[a];break}if(n.bitasset_data_id){n.market_asset=!0;for(a=0;a<e.bitasset_data.length;a++)if(e.bitasset_data[a].id===n.bitasset_data_id){n.bitasset_data=e.bitasset_data[a];break}}else n.market_asset=!1;t.assets=t.assets.set(n.id,n),t.asset_symbol_to_id[n.symbol]=n.id})}},{key:"onLookupAsset",value:function(e){this.searchTerms[e.searchID]=e.symbol,this.lookupResults=e.assets}}]),t}();t.a=o.a.createStore(c,"AssetStore")},123:function(e,t,n){"use strict";var a=n(24),s=n(19),r=n(5),o=n(96),i=n(143),l=n(13),c=n(4),u=n(179),p=n.n(u),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var f={},h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return m(e,[{key:"fundPool",value:function(e,t,n,a){var s=o.a.new_transaction(),i=r.a.get_asset_precision(t.get("precision"));return s.add_type_operation("asset_fund_fee_pool",{fee:{amount:0,asset_id:"1.3.0"},from_account:e,asset_id:n.get("id"),amount:a*i}),function(e){return l.a.process_transaction(s,null,!0).then(function(){e(!0)}).catch(function(t){console.log("[AssetActions.js:150] ----- fundPool error -----\x3e",t),e(!1)})}}},{key:"updateFeedProducers",value:function(e,t,n){var a=o.a.new_transaction();return a.add_type_operation("asset_update_feed_producers",{fee:{amount:0,asset_id:"1.3.0"},issuer:e,asset_to_update:t.get("id"),new_feed_producers:n}),function(e){return l.a.process_transaction(a,null,!0).then(function(){e(!0)}).catch(function(t){console.log("[AssetActions.js:150] ----- updateFeedProducers error -----\x3e",t),e(!1)})}}},{key:"claimPoolFees",value:function(e,t,n){var a=o.a.new_transaction(),s=r.a.get_asset_precision(t.get("precision"));return a.add_type_operation("asset_claim_fees",{fee:{amount:0,asset_id:0},issuer:e,amount_to_claim:{asset_id:t.get("id"),amount:n*s}}),function(e){return l.a.process_transaction(a,null,!0).then(function(t){e(!0)}).catch(function(t){console.log("[AssetActions.js:150] ----- claimFees error -----\x3e",t),e(!1)})}}},{key:"createAsset",value:function(e,t,n,a,s,i,u,m,f){console.log("create asset:",t,"flags:",n,"isBitAsset:",i,"bitasset_opts:",m);var h=o.a.new_transaction(),d=r.a.get_asset_precision(t.precision);p.a.config({DECIMAL_PLACES:t.precision});var y=new p.a(t.max_supply).times(d).toString(),g=new p.a(t.max_market_fee||0).times(d).toString(),_=r.a.get_asset_precision(c.b.getAsset(s.base.asset_id).get("precision")),b={fee:{amount:0,asset_id:0},issuer:e,symbol:t.symbol,precision:parseInt(t.precision,10),common_options:{max_supply:y,market_fee_percent:100*t.market_fee_percent||0,max_market_fee:g,issuer_permissions:a,flags:n,core_exchange_rate:{base:{amount:s.base.amount*_,asset_id:s.base.asset_id},quote:{amount:s.quote.amount*d,asset_id:"1.3.1"}},whitelist_authorities:[],blacklist_authorities:[],whitelist_markets:[],blacklist_markets:[],description:f,extensions:null},is_prediction_market:u,extensions:null};return i&&(b.bitasset_opts=m),h.add_type_operation("asset_create",b),function(e){return l.a.process_transaction(h,null,!0).then(function(t){e(!0)}).catch(function(t){console.log("[AssetActions.js:150] ----- createAsset error -----\x3e",t),e(!1)})}}},{key:"updateAsset",value:function(e,t,n,a,s,i,u,m,f,h,d,y,g,_,b){var v=o.a.new_transaction();if(b){var k=r.a.get_asset_precision(s.get("precision"));p.a.config({DECIMAL_PLACES:s.get("precision")});var E=new p.a(n.max_supply).times(k).toString(),w=new p.a(n.max_market_fee||0).times(k).toString(),x=c.b.getAsset(a.quote.asset_id),S=r.a.get_asset_precision(x.get("precision")),C=c.b.getAsset(a.base.asset_id),A=r.a.get_asset_precision(C.get("precision")),M=new p.a(a.quote.amount).times(S).toString(),O=new p.a(a.base.amount).times(A).toString();console.log("auths:",y);var T={fee:{amount:0,asset_id:0},asset_to_update:s.get("id"),extensions:s.get("extensions"),issuer:e,new_issuer:t,new_options:{max_supply:E,max_market_fee:w,market_fee_percent:100*n.market_fee_percent,description:d,issuer_permissions:u,flags:i,whitelist_authorities:y.whitelist_authorities.toJS(),blacklist_authorities:y.blacklist_authorities.toJS(),whitelist_markets:y.whitelist_markets.toJS(),blacklist_markets:y.blacklist_markets.toJS(),extensions:s.getIn(["options","extensions"]),core_exchange_rate:{quote:{amount:M,asset_id:a.quote.asset_id},base:{amount:O,asset_id:a.base.asset_id}}}};e!==t&&t||delete T.new_issuer,v.add_type_operation("asset_update",T)}if(console.log("bitasset_opts:",f,"original_bitasset_opts:",h),m&&(f.feed_lifetime_sec!==h.feed_lifetime_sec||f.minimum_feeds!==h.minimum_feeds||f.force_settlement_delay_sec!==h.force_settlement_delay_sec||f.force_settlement_offset_percent!==h.force_settlement_offset_percent||f.maximum_force_settlement_volume!==h.maximum_force_settlement_volume||f.short_backing_asset!==h.short_backing_asset)){var j={fee:{amount:0,asset_id:0},asset_to_update:s.get("id"),issuer:e,new_options:f};v.add_type_operation("asset_update_bitasset",j)}return console.log("feedProducers:",g,"originalFeedProducers:",_),m&&!r.a.are_equal_shallow(g,_)&&v.add_type_operation("asset_update_feed_producers",{fee:{amount:0,asset_id:"1.3.0"},issuer:e,asset_to_update:s.get("id"),new_feed_producers:g}),l.a.process_transaction(v,null,!0).then(function(e){return!0}).catch(function(e){return console.log("[AssetActions.js:150] ----- updateAsset error -----\x3e",e),!1})}},{key:"issueAsset",value:function(e,t,n,a,s){i.a.issue_asset(e,t,n,a,s)}},{key:"getAssetList",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e+"_"+t;return function(o){if(!f[r]){var i;if(f[r]=!0,o({loading:!0}),i=s.Apis.instance().db_api().exec("list_assets",[e,t]).then(function(e){var t=[],n=[];e.forEach(function(e){c.b._updateObject(e,!1),n.push(e.dynamic_asset_data_id),e.bitasset_data_id&&t.push(e.bitasset_data_id)});var a=s.Apis.instance().db_api().exec("get_objects",[n]),i=t.length>0?s.Apis.instance().db_api().exec("get_objects",[t]):null;Promise.all([a,i]).then(function(t){return delete f[r],o({assets:e,dynamic:t[0],bitasset_data:t[1],loading:!1}),e&&e.length})}).catch(function(e){console.log("Error in AssetActions.getAssetList: ",e),o({loading:!1}),delete f[r]}),a){["BRIDGE","GDEX","RUDEX","OPEN","WIN"].forEach(function(t){n.getAssetList(t+"."+e,10)})}return i}}}},{key:"lookupAsset",value:function(e,t){var n=c.b.getAsset(e);return n?{assets:[n],searchID:t,symbol:e}:function(n){setTimeout(function(){var a=c.b.getAsset(e);a&&n({assets:[a],searchID:t,symbol:e})},200)}}},{key:"reserveAsset",value:function(e,t,n){var a=o.a.new_transaction();return a.add_type_operation("asset_reserve",{fee:{amount:0,asset_id:0},amount_to_reserve:{amount:e,asset_id:t},payer:n,extensions:[]}),l.a.process_transaction(a,null,!0).then(function(e){return!0}).catch(function(e){return console.log("[AssetActions.js:150] ----- reserveAsset error -----\x3e",e),!1})}}]),e}();t.a=a.a.createActions(h)},339:function(e,t,n){"use strict";var a=n(89),s=n(0),r=n.n(s),o=n(6),i=n.n(o),l=n(53),c=n.n(l),u=n(5),p=n(1),m=n.n(p),f=n(31),h=n(15),d=n(18),y=n(65),g=n(11),_=n(17),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),b(t,[{key:"render",value:function(){return this.props.account?r.a.createElement("span",null,this.props.account.get("name")):null}}]),t}();v.propTypes={account:g.a.ChainObject.isRequired},v.defaultProps={autosubscribe:!1};var k=Object(_.a)(v),E=n(14),w=n(32),x=n(7),S=n(2),C=n.n(S),A=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var M=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.statsInterval=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),A(t,[{key:"_onClick",value:function(e){"/market/"+e!==this.context.router.location.pathname&&(w.a.switchMarket(),this.context.router.push("/market/"+e))}},{key:"componentDidMount",value:function(){w.a.getMarketStats(this.props.base,this.props.quote),this.statsChecked=new Date,this.statsInterval=setInterval(w.a.getMarketStats.bind(this,this.props.base,this.props.quote),35e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.statsInterval)}},{key:"shouldComponentUpdate",value:function(e){return!u.a.are_equal_shallow(e,this.props)}},{key:"_onStar",value:function(e,t,n){n.preventDefault(),this.props.starred?x.a.removeStarMarket(e,t):x.a.addStarMarket(e,t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.quote,a=t.base,s=(t.noSymbols,t.stats),o=t.starred;if(!n||!a)return null;var i=n.get("symbol")+"_"+a.get("symbol"),l=n.get("symbol")+"/"+a.get("symbol"),c=this.props.getDynamicObject(n.get("dynamic_asset_data_id")),p=this.props.getDynamicObject(a.get("dynamic_asset_data_id")),m=u.a.convertPrice(n,a),f={};this.props.leftAlign&&(f.textAlign="left");var h="button outline",y=null;this.props.compact&&(h+=" no-margin",y={marginBottom:0,fontSize:"0.75rem",padding:"4px 10px",borderRadius:"0px",letterSpacing:"0.05rem"});var g=this.props.columns.map(function(t){switch(t.name){case"star":var f=o?"gold-star":"grey-star";return r.a.createElement("td",{onClick:e._onStar.bind(e,n.get("symbol"),a.get("symbol")),key:t.index},r.a.createElement(E.a,{className:f,name:"fi-star",title:"icons.fi_star.symbol"}));case"vol":var g=s?s.volumeBase:0;return r.a.createElement("td",{onClick:e._onClick.bind(e,i),className:"text-right",key:t.index},u.a.format_volume(g));case"change":var _=u.a.format_number(s&&s.change?s.change:0,2),b="0.00"===_?"":_>0?"change-up":"change-down";return r.a.createElement("td",{onClick:e._onClick.bind(e,i),className:"text-right "+b,key:t.index},_+"%");case"marketName":return r.a.createElement("td",{onClick:e._onClick.bind(e,i),key:t.index},r.a.createElement("div",{className:h,style:y},l));case"market":var v=e.props.name;try{void 0!==v.props&&(v=v.props.children[0].props.name+"/"+v.props.children[2].props.name)}catch(e){}return r.a.createElement("td",{onClick:e._onClick.bind(e,i),key:t.index},v);case"price":var w=s&&s.price?s.price.toReal():s&&s.close&&s.close.quote.amount&&s.close.base.amount?u.a.get_asset_price(s.close.quote.amount,n,s.close.base.amount,a,!0):u.a.get_asset_price(m.quote.amount,n,m.base.amount,a,!0),x=6;return-1!==["BTC","OPEN.BTC","TRADE.BTC","GOLD","SILVER"].indexOf(a.get("symbol"))&&(x=8),r.a.createElement("td",{onClick:e._onClick.bind(e,i),className:"text-right",key:t.index},u.a.format_number(w,w>1e3?0:w>10?2:x));case"quoteSupply":return r.a.createElement("td",{onClick:e._onClick.bind(e,i),key:t.index},c?r.a.createElement(d.a,{style:{fontWeight:"bold"},amount:parseInt(c.get("current_supply"),10),asset:n.get("id")}):null);case"baseSupply":return r.a.createElement("td",{onClick:e._onClick.bind(e,i),key:t.index},p?r.a.createElement(d.a,{style:{fontWeight:"bold"},amount:parseInt(p.get("current_supply"),10),asset:a.get("id")}):null);case"issuer":return r.a.createElement("td",{onClick:e._onClick.bind(e,i),key:t.index},r.a.createElement(k,{account:n.get("issuer")}));case"add":return r.a.createElement("td",{style:{textAlign:"right"},key:t.index,onClick:e.props.onCheckMarket.bind(e,i)},r.a.createElement("input",{type:"checkbox",checked:!!e.props.isChecked||e.props.isDefault,disabled:e.props.isDefault,"data-tip":e.props.isDefault?"This market is a default market and cannot be removed":null}));case"remove":return r.a.createElement("td",{key:t.index,className:"clickable",onClick:e.props.removeMarket},r.a.createElement("span",{style:{marginBottom:"6px",marginRight:"6px",zIndex:999},className:"text float-right remove"},"–"))}}).sort(function(e,t){return e.key>t.key}),_="clickable";return this.props.current&&(_+=" activeMarket"),r.a.createElement("tr",{className:_,style:f},g)}}]),t}();M.defaultProps={noSymbols:!1},M.contextTypes={router:C.a.object.isRequired};var O=Object(y.a)(M,{propNames:["quote","base"],defaultProps:{tempComponent:"tr"},withDynamic:!0}),T=n(9),j=n(35),B=n(115),I=n(21),P=n(123),q=n(8),N=n.n(q),L=n(4),D=n(3),R=n.n(D),F=n(162),W=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function V(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var G=function(e){function t(){return U(this,t),z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return V(t,r.a.Component),W(t,[{key:"render",value:function(){return 0!==this.props.assets.length&&this.props.value?r.a.createElement(F.a,{entries:this.props.assets.map(function(e){return e&&e.get("symbol")}).filter(function(e){return!!e}),values:this.props.assets.reduce(function(e,t){return t&&t.get("symbol")&&(e[t.get("symbol")]=t),e},{}),singleEntry:this.props.assets[0]?r.a.createElement(d.a,{asset:this.props.assets[0].get("id"),amount:0,hide_amount:!0}):null,value:"",onChange:this.props.onChange}):null}}]),t}();G.propTypes={value:C.a.string,onChange:C.a.func},G=Object(y.a)(G,{asList:!0});var J=function(e){function t(){return U(this,t),z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return V(t,r.a.Component),W(t,[{key:"getAsset",value:function(){return this.props.asset}},{key:"getError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.assetInput,t=this.props.error;return t||!e||this.getNameType(e)||(t=R.a.translate("explorer.asset.invalid",{name:e})),t}},{key:"getNameType",value:function(e){return e?L.d.is_valid_symbol_error(e,!0)?null:"symbol":null}},{key:"onInputChanged",value:function(e){var t=e.target.value.trim().substr(0,16).toUpperCase();this.props.onChange&&t!==this.props.assetInput&&this.props.onChange(t)}},{key:"onKeyDown",value:function(e){13===e.keyCode&&(this.onFound(e),this.onAction(e))}},{key:"componentDidMount",value:function(){this.props.onFound&&this.props.asset&&this.props.onFound(this.props.asset)}},{key:"componentWillReceiveProps",value:function(e){this.props.onFound&&e.asset!==this.props.asset&&this.props.onFound(e.asset)}},{key:"onFound",value:function(e){e.preventDefault(),!this.props.onFound||this.getError()||this.props.disableActionButton||this.props.asset&&this.props.onFound(this.props.asset)}},{key:"onAssetSelect",value:function(e){e&&(this.props.onFound(e),this.props.onChange(e.get("symbol")))}},{key:"onAction",value:function(e){e.preventDefault(),!this.props.onAction||this.getError()||this.props.disableActionButton||this.props.asset&&this.props.onAction(this.props.asset)}},{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.noLabel,a=this.getError(),s=void 0;t||(this.props.asset?s=this.props.asset.get("symbol"):!a&&this.props.assetInput&&(a=R.a.translate("explorer.asset.not_found",{name:this.props.assetInput})));var o=N()("button btn large outline",{disabled:!this.props.asset||a||this.props.disableActionButton});return r.a.createElement("div",{className:"asset-selector",style:this.props.style},r.a.createElement("div",null,r.a.createElement("div",{className:"header-area"},a||n?null:r.a.createElement("label",{className:"right-label"},"  ",r.a.createElement("span",null,s)),r.a.createElement(m.a,{component:"label",content:this.props.label})),r.a.createElement("div",{className:"input-area"},r.a.createElement("div",{className:"inline-label input-wrapper"},r.a.createElement("input",{style:this.props.inputStyle,disabled:this.props.disabled,type:"text",value:this.props.assetInput||"",placeholder:this.props.placeholder||R.a.translate("explorer.assets.symbol"),ref:"user_input",onChange:this.onInputChanged.bind(this),onKeyDown:this.onKeyDown.bind(this),tabIndex:this.props.tabIndex}),r.a.createElement("div",{className:"form-label select floating-dropdown"},this.props.asset?r.a.createElement(G,{ref:this.props.refCallback,value:this.props.asset.get("symbol"),assets:i.a.List(this.props.assets),onChange:this.onAssetSelect.bind(this)}):null),this.props.children,this.props.onAction?r.a.createElement("button",{className:o,style:{marginLeft:10},onClick:this.onAction.bind(this)},r.a.createElement(m.a,{content:this.props.action_label})):null)),r.a.createElement("div",{className:"error-area",style:{paddingBottom:"10px"}},r.a.createElement("span",{style:{wordBreak:"break-all"}},a))))}}]),t}();J.propTypes={label:C.a.string,error:C.a.string,placeholder:C.a.string,onChange:C.a.func,onFound:C.a.func,assetInput:C.a.string,asset:g.a.ChainAsset,tabIndex:C.a.number,disableActionButton:C.a.string},J.defaultProps={disabled:!1};var Q=Object(_.a)(J),Y=n(39),K=n(25),H=n.n(K),X=n(55),Z=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var $=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={backingAsset:"",error:!1,valid:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),Z(t,[{key:"_onMoveUp",value:function(e){var t=this.props.quotes.findIndex(function(t){return t===e});x.a.modifyPreferedBases({oldIndex:t,newIndex:t-1})}},{key:"_onMoveDown",value:function(e){var t=this.props.quotes.findIndex(function(t){return t===e});x.a.modifyPreferedBases({oldIndex:t,newIndex:t+1})}},{key:"_onRemove",value:function(e){var t=this.props.quotes.findIndex(function(t){return t===e});t>=0&&x.a.modifyPreferedBases({remove:t})}},{key:"_onAdd",value:function(e){-1===this.props.quotes.findIndex(function(t){return t===e.get("symbol")})&&x.a.modifyPreferedBases({add:e.get("symbol")})}},{key:"_onInputBackingAsset",value:function(e){this.setState({backingAsset:e.toUpperCase(),error:null})}},{key:"_onFoundBackingAsset",value:function(e){e&&(this.props.quotes.includes(e.get("symbol"))?this.setState({error:"Asset already being used",isValid:!1}):this.setState({isValid:!0}))}},{key:"render",value:function(){var e=this,t=this.state.error,n=this.props.quotes.size;return r.a.createElement(X.a,{id:"quote_selection",overlay:!0,modalHeader:"exchange.quote_selection",noLogo:!0},r.a.createElement("section",{className:"block-list no-border-bottom"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,r.a.createElement(m.a,{content:"account.quote"})),r.a.createElement("th",{style:{textAlign:"center"}},r.a.createElement(m.a,{content:"exchange.move_down"})),r.a.createElement("th",{style:{textAlign:"center"}},r.a.createElement(m.a,{content:"exchange.move_up"})),r.a.createElement("th",{style:{textAlign:"center"}},r.a.createElement(m.a,{content:"exchange.remove"})))),r.a.createElement("tbody",null,this.props.quotes.map(function(t,a){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,a+1),r.a.createElement("td",null,t),r.a.createElement("td",{className:"text-center"},a!==n-1&&r.a.createElement(E.a,{onClick:e._onMoveDown.bind(e,t),name:"chevron-down",className:"clickable"})),r.a.createElement("td",{className:"text-center"},0!==a&&r.a.createElement(E.a,{onClick:e._onMoveUp.bind(e,t),name:"chevron-down",className:"clickable rotate180"})),r.a.createElement("td",{className:"text-center"},n>1&&r.a.createElement(E.a,{onClick:e._onRemove.bind(e,t),name:"cross-circle",className:"clickable"})))}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(Q,{label:"exchange.custom_quote",onChange:this._onInputBackingAsset.bind(this),asset:this.state.backingAsset,assetInput:this.state.backingAsset,tabIndex:1,style:{width:"100%",paddingRight:"10px"},onFound:this._onFoundBackingAsset.bind(this),onAction:this._onAdd.bind(this),action_label:"exchange.add_quote",disableActionButton:!!t,noLabel:!0}),r.a.createElement("div",{className:"error-area"},t))))}}]),t}(),ee=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,s=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{!a&&i.return&&i.return()}finally{if(s)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),te=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function se(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var re=new Date,oe=function(e){function t(e){ne(this,t);var n=ae(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state=n._getInitialState(e),n}return se(t,r.a.Component),te(t,[{key:"_getInitialState",value:function(e){var t=!!e.findMarketTab||e.viewSettings.get("myMarketsBase_"+e.index);return{open:void 0===t||t,inverseSort:e.viewSettings.get("myMarketsInvert",!0),sortBy:e.viewSettings.get("myMarketsSort","volume"),inputValue:""}}},{key:"componentWillReceiveProps",value:function(e){e.findMarketTab!==this.props.findMarketTab&&this.setState(this._getInitialState(e))}},{key:"shouldComponentUpdate",value:function(e,t){return!e.markets||!this.props.markets||(!u.a.are_equal_shallow(t,this.state)||!u.a.are_equal_shallow(e.markets,this.props.markets)||e.starredMarkets!==this.props.starredMarkets||e.marketStats!==this.props.marketStats||e.userMarkets!==this.props.userMarkets)}},{key:"_inverseSort",value:function(){x.a.changeViewSetting({myMarketsInvert:!this.state.myMarketsInvert}),this.setState({inverseSort:!this.state.inverseSort})}},{key:"_changeSort",value:function(e){var t=this.getCookie("gt_get_sort"),n=new Date;n.setFullYear(n.getFullYear()+1),"vol-true"!=t&&"name-true"!=t&&"name-false"!=t||"volume"!=e?"vol-false"!=t&&null!=t||"volume"!=e||(this.setCookie("gt_get_sort","vol-true",{expires:n.toGMTString()}),this._inverseSort()):this.setCookie("gt_get_sort","vol-false",{expires:n.toGMTString()}),"name-true"!=t&&"vol-true"!=t&&"vol-false"!=t||"name"!=e?"name-false"!=t&&null!=t||"name"!=e||(this.setCookie("gt_get_sort","name-true",{expires:n.toGMTString()}),this._inverseSort()):this.setCookie("gt_get_sort","name-false",{expires:n.toGMTString()}),e!==this.state.sortBy?(x.a.changeViewSetting({myMarketsSort:e}),this.setState({sortBy:e})):this._inverseSort()}},{key:"_onToggle",value:function(e){if(!this.props.findMarketTab){var t=!this.state.open;this.setState({open:t});var n={};n["myMarketsBase_"+this.props.index]=t,x.a.changeViewSetting(n)}}},{key:"_onToggleUserMarket",value:function(e){var t=e.split("_"),n=ee(t,2),a=n[0],s=n[1],r=!this.props.userMarkets.get(e);x.a.setUserMarket(a,s,r)}},{key:"setCookie",value:function(e,t,n){var a=(n=n||{}).expires;if("number"==typeof a&&a){var s=new Date;s.setTime(s.getTime()+1e3*a),a=n.expires=s}a&&a.toUTCString&&(n.expires=a.toUTCString());var r=e+"="+(t=encodeURIComponent(t));for(var o in n){r+="; "+o;var i=n[o];!0!==i&&(r+="="+i)}document.cookie=r}},{key:"getCookie",value:function(e){var t=document.cookie,n=e+"=",a=t.indexOf("; "+n),s=null;if(-1==a){if(0!=(a=t.indexOf(n)))return null;s=document.cookie.indexOf(";",a)}else a+=2,-1==(s=document.cookie.indexOf(";",a))&&(s=t.length);return decodeURI(t.substring(a+n.length,s)).replace(/"/g,"")}},{key:"render",value:function(){var e=this,t=this.props,n=t.columns,a=t.markets,s=t.base,o=t.marketStats,i=t.starredMarkets,l=t.current,c=this.state,u=c.sortBy,p=c.inverseSort,f=c.open;if(!a||!a.length)return null;var h=n.map(function(t){switch(t.name){case"market":var n="",a=e.getCookie("gt_get_sort");return"name"!=e.state.sortBy||"name-false"!=a&&null!=a?"name"==e.state.sortBy&&"name-true"==a&&(n=r.a.createElement("span",null,"▼")):n=r.a.createElement("span",null,"▲"),r.a.createElement("th",{key:t.name,className:"clickable",onClick:e._changeSort.bind(e,"name")},r.a.createElement(m.a,{content:"exchange.market"}),n);case"vol":var s="",o=e.getCookie("gt_get_sort");return"volume"!=e.state.sortBy||"vol-false"!=o&&null!=o?"volume"==e.state.sortBy&&"vol-true"==o&&(s=r.a.createElement("span",null,"▲")):s=r.a.createElement("span",null,"▼"),r.a.createElement("th",{key:t.name,className:"clickable",onClick:e._changeSort.bind(e,"volume"),style:{textAlign:"right"}},r.a.createElement(m.a,{content:"exchange.vol_short"}),s);case"price":return r.a.createElement("th",{key:t.name,style:{textAlign:"right"}},r.a.createElement(m.a,{content:"exchange.price"}));case"quoteSupply":return r.a.createElement("th",{key:t.name},r.a.createElement(m.a,{content:"exchange.base_supply"}));case"baseSupply":return r.a.createElement("th",{key:t.name},r.a.createElement(m.a,{content:"exchange.quote_supply"}));case"change":var i="";return"change"==e.state.sortBy&&e.state.inverseSort?i=r.a.createElement("span",null,"▲"):"change"==e.state.sortBy&&(i=r.a.createElement("span",null,"▼")),r.a.createElement("th",{key:t.name,className:"clickable",onClick:e._changeSort.bind(e,"change"),style:{textAlign:"right"}},r.a.createElement(m.a,{content:"exchange.change"}),i);case"issuer":return r.a.createElement("th",{key:t.name},r.a.createElement(m.a,{content:"explorer.assets.issuer"}));case"add":return r.a.createElement("th",{key:t.name,style:{textAlign:"right"}},r.a.createElement(m.a,{content:"account.perm.confirm_add"}));default:return r.a.createElement("th",{key:t.name})}}),d=a.map(function(t){return e.props.onlyLiquid&&o.get(t.id)&&0==o.get(t.id).volumeBase?null:r.a.createElement(O,{key:t.id,name:"others"===s?r.a.createElement("span",null,r.a.createElement(I.a,{name:t.quote}),":",r.a.createElement(I.a,{name:t.base})):r.a.createElement(I.a,{dataPlace:"left",name:t.quote}),quote:t.quote,base:t.base,columns:n,leftAlign:!0,compact:!0,noSymbols:!0,stats:o.get(t.id),starred:i.has(t.id),current:l===t.id,isChecked:e.props.userMarkets.has(t.id),isDefault:e.props.defaultMarkets&&e.props.defaultMarkets.has(t.id),onCheckMarket:e._onToggleUserMarket.bind(e),location:e.props.location,history:e.props.history})}).filter(function(e){return null!==e}).sort(function(t,n){var a=t.key.split("_"),s=n.key.split("_"),r=o.get(a[0]+"_"+a[1]),i=o.get(s[0]+"_"+s[1]),l=e.getCookie("gt_get_sort");switch(u){case"name":return"name-false"==l?p=!1:"name-true"==l&&(p=!0),a[0]>s[0]?p?-1:1:a[0]<s[0]?p?1:-1:a[1]>s[1]?p?-1:1:a[1]<s[1]?p?1:-1:0;case"volume":var c=r,m=i;if(r&&i){var f=r.volumeBase?r.volumeBase:0,h=i.volumeBase?i.volumeBase:0;return"vol-false"==l||null==l?h-f:f-h}return c=c?c.volumeBase:0,m=m?m.volumeBase:0,"vol-false"==l||null==l?m-c:c-m;case"change":return r&&i?p?i.change-r.change:r.change-i.change:0}});return r.a.createElement("div",{style:{paddingRight:10}},f?r.a.createElement("table",{className:"table table-hover text-right"},r.a.createElement("thead",null,r.a.createElement("tr",null,h)),d&&d.length?r.a.createElement("tbody",null,d):null):null)}}]),t}();oe.defaultProps={maxRows:20,onlyLiquid:!1};var ie=function(e){function t(e){ne(this,t);var n=ae(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.clearInput=function(e){n.setState({myMarketFilter:""})},n.handleSearchUpdate=function(e){n.setState({myMarketFilter:e.target.value&&e.target.value.toUpperCase()})},n.state={inverseSort:e.viewSettings.get("myMarketsInvert",!0),sortBy:e.viewSettings.get("myMarketsSort","volume"),activeTab:e.viewSettings.get("favMarketTab","my-market"),activeMarketTab:e.viewSettings.get("activeMarketTab",0),lookupQuote:null,lookupBase:null,inputValue:"",minWidth:"100%",findBaseInput:"USD",activeFindBase:"USD"},n._onInputName=n._onInputName.bind(n),n._setMinWidth=n._setMinWidth.bind(n),n.getAssetList=Object(a.a)(P.a.getAssetList.defer,150),n}return se(t,r.a.Component),te(t,[{key:"shouldComponentUpdate",value:function(e,t){return"find-market"===this.state.activeTab||"find-market"!==t.activeTab||e.searchAssets.size||this._lookupAssets("OPEN.",!0),!(i.a.is(e.searchAssets,this.props.searchAssets)&&i.a.is(e.markets,this.props.markets)&&i.a.is(e.starredMarkets,this.props.starredMarkets)&&i.a.is(e.defaultMarkets,this.props.defaultMarkets)&&i.a.is(e.marketStats,this.props.marketStats)&&u.a.are_equal_shallow(t,this.state)&&e.current===this.props.current&&e.minWidth===this.props.minWidth&&e.preferredBases===this.props.preferredBases&&e.onlyStars===this.props.onlyStars&&e.onlyLiquid===this.props.onlyLiquid&&e.assetsLoading===this.props.assetsLoading&&e.userMarkets===this.props.userMarkets)}},{key:"componentWillMount",value:function(){if(this.props.setMinWidth&&window.addEventListener("resize",this._setMinWidth,{capture:!1,passive:!0}),this.props.currrent){var e=this.props.current.split("_")[1],t=this.props.preferredBases.findIndex(function(t){return t===e});-1!==t&&t!==this.state.activeMarketTab&&this.setState({activeMarketTab:t})}}},{key:"componentDidMount",value:function(){var e=this.refs.favorites;c.a.initialize(e),this._setMinWidth(),"find-market"===this.state.activeTab&&this._lookupAssets("OPEN.",!0)}},{key:"componetWillUnmount",value:function(){this.props.setMinWidth&&window.removeEventListener("resize",this._setMinWidth)}},{key:"_setMinWidth",value:function(){this.props.setMinWidth&&this.refs.favorites&&"my-market"===this.props.activeTab&&this.state.minWidth!==this.refs.favorites.offsetWidth&&this.setState({minWidth:this.refs.favorites.offsetWidth})}},{key:"componentDidUpdate",value:function(){if(this.refs.favorites){var e=this.refs.favorites;c.a.update(e)}}},{key:"_inverseSort",value:function(){x.a.changeViewSetting({myMarketsInvert:!this.state.myMarketsInvert}),this.setState({inverseSort:!this.state.inverseSort})}},{key:"_changeSort",value:function(e){var t=this.getCookie("gt_get_sort"),n=new Date;n.setFullYear(n.getFullYear()+1),"vol-true"==t&&"volume"==e?this.setCookie("gt_get_sort","vol-false",{expires:n.toGMTString()}):"vol-false"!=t&&null!=t||"volume"!=e||(this.setCookie("gt_get_sort","vol-true",{expires:n.toGMTString()}),this._inverseSort()),e!==this.state.sortBy?(x.a.changeViewSetting({myMarketsSort:e}),this.setState({sortBy:e})):this._inverseSort()}},{key:"_goMarkets",value:function(){this.context.router.push("/markets")}},{key:"_changeTab",value:function(e){x.a.changeViewSetting({favMarketTab:e}),this.setState({activeTab:e}),this._setMinWidth()}},{key:"_onInputName",value:function(e){var t=e.target.value.trim().toUpperCase(),n=!L.d.is_valid_symbol_error(t,!0);if(this.setState({inputValue:t}),t&&t.length>=3&&!n)return this.setState({assetNameError:!0});this.setState({assetNameError:!1}),this._lookupAssets(t)}},{key:"_lookupAssets",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e||""===e){var n=new Date,a=e.toUpperCase().split(":"),s=a[0],r=2===a.length?a[1]:null;if(this.setState({lookupQuote:s,lookupBase:r}),x.a.changeViewSetting.defer({marketLookupInput:e.toUpperCase()}),this.state.lookupQuote!==s||t){if(s.length<1||n-re<=250)return!1;this.getAssetList(s,50)}else if(r&&this.state.lookupBase!==r){if(r.length<1||n-re<=250)return!1;this.getAssetList(r,50)}}}},{key:"toggleActiveMarketTab",value:function(e){x.a.changeViewSetting({activeMarketTab:e}),this.setState({activeMarketTab:e})}},{key:"_onInputBaseAsset",value:function(e){this.setState({findBaseInput:e.toUpperCase(),error:null})}},{key:"_onFoundBaseAsset",value:function(e){e&&this.setState({activeFindBase:e.get("symbol")})}},{key:"render",value:function(){var e=this,t=this.props,a=t.starredMarkets,s=t.defaultMarkets,o=t.marketStats,l=t.columns,c=t.searchAssets,u=t.assetsLoading,p=t.preferredBases,h=(t.core,t.current),d=t.viewSettings,y=t.onlyStars,g=t.userMarkets,_=this.state,b=_.activeMarketTab,v=_.activeTab,k=_.lookupQuote,E=_.lookupBase,S=r.a.createElement("tr",null),C="my-market"===v,A=p.map(function(e){return e});C||(p=(p=p.clear()).push(this.state.activeFindBase));var M={},O=[];k||(k="OPEN."),C||(b=0),c.filter(function(e){return E&&E.length?0===e.symbol.indexOf(E):-1!==e.symbol.indexOf(k)}).forEach(function(e){E&&E.length?0===e.symbol.indexOf(E)&&O.push(e.symbol):p.includes(e.symbol)&&e.symbol.length>=k.length&&e.symbol.length<k.length+3&&O.push(e.symbol)}),O=(O=O.concat(p.filter(function(e){return!E||!E.length||0===e.indexOf(E)}).toArray())).filter(function(e){return!(E&&E.length>1)||0===e.indexOf(E)});var T=[];c.size&&c.filter(function(e){try{if(e.options.description){var t=JSON.parse(e.options.description);if("visible"in t&&!t.visible)return!1}}catch(e){}return-1!==e.symbol.indexOf(k)&&e.symbol.length>=k.length}).forEach(function(e){O.forEach(function(t){var n=e.symbol+"_"+t;t!==e.symbol&&T.push([n,{quote:e.symbol,base:t}])})}),T=T.filter(function(e){return!E||e[1].quote===k}),T=i.a.Map(T);var j=C?s:T;C&&g.size&&g.forEach(function(e,t){j=j.set(t,e)}),j.size>0&&(S=j.filter(function(t){if(C){var n=t.quote+"_"+t.base;return e.state.myMarketFilter?-1!==n.indexOf(e.state.myMarketFilter):!(y&&!a.has(n))}return!(k.length<1)&&-1!==t.quote.indexOf(k)}).map(function(e){var t=e.quote+"_"+e.base;return p.includes(e.base)?(M[e.base]||(M[e.base]=[]),M[e.base].push({id:t,quote:e.quote,base:e.base}),null):{id:t,quote:e.quote,base:e.base}}).filter(function(e){return null!==e}).take(C?100:20).toArray());var B=S&&S.length,I="mymarkets-header clickable",P=N()(I,{inactive:!C}),q=N()(I,{inactive:C}),L={minWidth:this.state.minWidth,minHeight:"6rem"},D=n(3);return r.a.createElement("div",{className:this.props.className+" explorer_markets",style:this.props.style},r.a.createElement("div",{style:this.props.headerStyle,className:"grid-block shrink left-orderbook-header bottom-header"},r.a.createElement("div",{ref:"myMarkets",className:P,onClick:this._changeTab.bind(this,"my-market"),"data-intro":D.translate("walkthrough.my_markets_tab")},r.a.createElement(m.a,{content:"exchange.market_name"})),r.a.createElement("div",{className:q,onClick:this._changeTab.bind(this,"find-market"),"data-intro":D.translate("walkthrough.find_markets_tab")},r.a.createElement(m.a,{content:"exchange.more"}))),this.props.controls?r.a.createElement("div",{className:"small-12 medium-6",style:{padding:"1rem 0"}},this.props.controls?r.a.createElement("div",{style:{paddingBottom:"0.5rem"}},this.props.controls):null):null,C?r.a.createElement("div",{className:"grid-block vertical shrink",style:{width:"100%",textAlign:"left",padding:"0.5rem 0.5rem"}},r.a.createElement("div",null,r.a.createElement("label",{style:{margin:"0px 0 0"}},r.a.createElement("input",{style:{position:"relative",top:3},className:"no-margin",type:"checkbox",checked:this.props.onlyLiquid,onChange:function(){x.a.changeViewSetting({onlyLiquid:!e.props.onlyLiquid})}}),r.a.createElement("span",{style:{paddingLeft:"0.4rem"}},r.a.createElement(m.a,{content:"exchange.show_only_liquid"}))),r.a.createElement("label",{style:{margin:"0px 0 0"}},r.a.createElement("input",{style:{position:"relative",top:3},className:"no-margin",type:"checkbox",checked:this.props.onlyStars,onChange:function(){w.a.toggleStars()}}),r.a.createElement("span",{style:{paddingLeft:"0.4rem"}},r.a.createElement(f.a,{string:"exchange.show_only_star_formatter",keys:[{type:"icon",value:"fi-star",className:"gold-star",arg:"star_icon"}]})))),r.a.createElement("div",{className:"search-wrapper"},r.a.createElement("form",null,r.a.createElement("input",{autoComplete:"off",style:{fontSize:"0.9rem",height:"inherit",position:"relative",top:5,padding:2},type:"text",className:"no-margin market-filter-input",placeholder:R.a.translate("exchange.filter"),maxLength:"16",name:"focus",required:"required",value:this.state.myMarketFilter,onChange:this.handleSearchUpdate}),r.a.createElement("button",{className:"clear-text",type:"reset",onClick:this.clearInput})))):r.a.createElement("div",{style:{width:"100%",textAlign:"left",padding:"0.5rem 0.5rem"}},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",{style:{width:"100%"}},r.a.createElement("td",null,r.a.createElement(Q,{onAssetSelect:this._onFoundBaseAsset.bind(this),assets:A,onChange:this._onInputBaseAsset.bind(this),asset:this.state.findBaseInput,assetInput:this.state.findBaseInput,tabIndex:1,style:{width:"100%",paddingBottom:"1.5rem"},onFound:this._onFoundBaseAsset.bind(this),label:"exchange.quote",noLabel:!0,inputStyle:{fontSize:"0.9rem"}}))),r.a.createElement("tr",{style:{width:"100%"}},r.a.createElement("td",null,r.a.createElement("label",null,r.a.createElement(m.a,{content:"account.user_issued_assets.name"}),":"),r.a.createElement("input",{style:{fontSize:"0.9rem",position:"relative",top:1},type:"text",value:this.state.inputValue,onChange:this._onInputName,placeholder:R.a.translate("exchange.search"),maxLength:"16",tabIndex:2,ref:"findSearchInput"}),this.state.assetNameError?r.a.createElement("div",{className:"error-area",style:{paddingTop:10}},r.a.createElement("span",{style:{wordBreak:"break-all"}},r.a.createElement(m.a,{content:"explorer.asset.invalid",name:this.state.inputValue}))):null))))),r.a.createElement("ul",{className:"mymarkets-tabs"},p.map(function(t,n){return t?r.a.createElement("li",{key:t,onClick:e.toggleActiveMarketTab.bind(e,n),className:N()("mymarkets-tab",{active:b===n})},r.a.createElement("span",null,t)):null}),C&&B?r.a.createElement("li",{key:"others",style:{textTransform:"uppercase"},onClick:this.toggleActiveMarketTab.bind(this,p.size+1),className:N()("mymarkets-tab",{active:b===p.size+1})},r.a.createElement(m.a,{content:"exchange.others"})):null,C&&r.a.createElement("li",{key:"quote_edit",style:{textTransform:"uppercase"},onClick:function(){H.a.publish("quote_selection","open")},className:"mymarkets-tab"}," + ")),r.a.createElement("div",{style:L,className:"table-container grid-block vertical mymarkets-list explorer-markets",ref:"favorites"},u?r.a.createElement("div",{style:{position:"absolute",paddingTop:"3rem",textAlign:"center",width:"100%"}},r.a.createElement(Y.a,{type:"three-bounce"})):null,p.filter(function(e){return e===p.get(b)}).map(function(t,n){return r.a.createElement(oe,{userMarkets:e.props.userMarkets,defaultMarkets:e.props.defaultMarkets,index:n,allowChange:!1,key:t,current:h,starredMarkets:a,marketStats:o,viewSettings:d,columns:C?l:e.props.findColumns||l,markets:M[t],base:t,maxRows:C?20:10,findMarketTab:!C,location:e.props.location,history:e.props.history,onlyLiquid:e.props.onlyLiquid&&C})}),b===p.size+1&&C&&B?r.a.createElement(oe,{userMarkets:this.props.userMarkets,index:p.size,current:h,starredMarkets:a,marketStats:o,viewSettings:d,columns:l,markets:S,base:"others",maxRows:C?20:10,findMarketTab:!C,location:this.props.location,history:this.props.history}):null),r.a.createElement($,{quotes:this.props.preferredBases}))}}]),t}();ie.propTypes={core:g.a.ChainAsset.isRequired},ie.defaultProps={activeTab:"my-market",core:"1.3.0",setMinWidth:!1},ie.contextTypes={router:C.a.object.isRequired},ie=Object(_.a)(ie);var le=function(e){function t(){return ne(this,t),ae(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return se(t,r.a.Component),te(t,[{key:"render",value:function(){return r.a.createElement(ie,this.props)}}]),t}();t.a=Object(h.connect)(le,{listenTo:function(){return[T.a,j.a,B.a]},getProps:function(){return{starredMarkets:T.a.getState().starredMarkets,onlyLiquid:T.a.getState().viewSettings.get("onlyLiquid",!1),defaultMarkets:T.a.getState().defaultMarkets,viewSettings:T.a.getState().viewSettings,preferredBases:T.a.getState().preferredBases,marketStats:j.a.getState().allMarketStats,userMarkets:T.a.getState().userMarkets,searchAssets:B.a.getState().assets,onlyStars:j.a.getState().onlyStars,assetsLoading:B.a.getState().assetsLoading}}})},7817:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(109),o=n(35),i=n(115),l=n(9),c=n(50),u=n.n(c),p=n(339),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.a.Component),m(t,[{key:"render",value:function(){return s.a.createElement("div",{ref:"wrapper",className:"grid-block page-layout no-overflow"},s.a.createElement(p.a,{style:{width:"100%",padding:20},className:"no-overflow",headerStyle:{paddingTop:0,borderTop:"none"},columns:[{name:"add",index:1},{name:"star",index:2},{name:"market",index:3},{name:"quoteSupply",index:4},{name:"vol",index:5},{name:"price",index:6},{name:"change",index:7}]}))}}]),t}(),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.a.Component),h(t,[{key:"render",value:function(){return s.a.createElement(u.a,{stores:[l.a,i.a,o.a],inject:{starredMarkets:function(){return l.a.getState().starredMarkets},viewSettings:function(){return l.a.getState().viewSettings},lookupResults:function(){return i.a.getState().lookupResults},marketBase:function(){return o.a.getState().marketBase}}},s.a.createElement(f,null))}}]),t}(),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.a.Component),y(t,[{key:"render",value:function(){var e=s.a.createElement(d,null);return s.a.createElement("div",{className:"content"},s.a.createElement(r.a,{defaultActiveTab:"markets.title",defaultContent:e}))}}]),t}();t.default=g}}]);