(window.webpackJsonp=window.webpackJsonp||[]).push([[16,34],{123:function(e,t,a){"use strict";var n=a(24),r=a(19),s=a(5),o=a(96),l=a(143),i=a(13),c=a(4),u=a(179),m=a.n(u),p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var d={},_=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return p(e,[{key:"fundPool",value:function(e,t,a,n){var r=o.a.new_transaction(),l=s.a.get_asset_precision(t.get("precision"));return r.add_type_operation("asset_fund_fee_pool",{fee:{amount:0,asset_id:"1.3.0"},from_account:e,asset_id:a.get("id"),amount:n*l}),function(e){return i.a.process_transaction(r,null,!0).then(function(){e(!0)}).catch(function(t){console.log("[AssetActions.js:150] ----- fundPool error -----\x3e",t),e(!1)})}}},{key:"updateFeedProducers",value:function(e,t,a){var n=o.a.new_transaction();return n.add_type_operation("asset_update_feed_producers",{fee:{amount:0,asset_id:"1.3.0"},issuer:e,asset_to_update:t.get("id"),new_feed_producers:a}),function(e){return i.a.process_transaction(n,null,!0).then(function(){e(!0)}).catch(function(t){console.log("[AssetActions.js:150] ----- updateFeedProducers error -----\x3e",t),e(!1)})}}},{key:"claimPoolFees",value:function(e,t,a){var n=o.a.new_transaction(),r=s.a.get_asset_precision(t.get("precision"));return n.add_type_operation("asset_claim_fees",{fee:{amount:0,asset_id:0},issuer:e,amount_to_claim:{asset_id:t.get("id"),amount:a*r}}),function(e){return i.a.process_transaction(n,null,!0).then(function(t){e(!0)}).catch(function(t){console.log("[AssetActions.js:150] ----- claimFees error -----\x3e",t),e(!1)})}}},{key:"createAsset",value:function(e,t,a,n,r,l,u,p,d){console.log("create asset:",t,"flags:",a,"isBitAsset:",l,"bitasset_opts:",p);var _=o.a.new_transaction(),h=s.a.get_asset_precision(t.precision);m.a.config({DECIMAL_PLACES:t.precision});var f=new m.a(t.max_supply).times(h).toString(),b=new m.a(t.max_market_fee||0).times(h).toString(),g=s.a.get_asset_precision(c.b.getAsset(r.base.asset_id).get("precision")),y={fee:{amount:0,asset_id:0},issuer:e,symbol:t.symbol,precision:parseInt(t.precision,10),common_options:{max_supply:f,market_fee_percent:100*t.market_fee_percent||0,max_market_fee:b,issuer_permissions:n,flags:a,core_exchange_rate:{base:{amount:r.base.amount*g,asset_id:r.base.asset_id},quote:{amount:r.quote.amount*h,asset_id:"1.3.1"}},whitelist_authorities:[],blacklist_authorities:[],whitelist_markets:[],blacklist_markets:[],description:d,extensions:null},is_prediction_market:u,extensions:null};return l&&(y.bitasset_opts=p),_.add_type_operation("asset_create",y),function(e){return i.a.process_transaction(_,null,!0).then(function(t){e(!0)}).catch(function(t){console.log("[AssetActions.js:150] ----- createAsset error -----\x3e",t),e(!1)})}}},{key:"updateAsset",value:function(e,t,a,n,r,l,u,p,d,_,h,f,b,g,y){var v=o.a.new_transaction();if(y){var E=s.a.get_asset_precision(r.get("precision"));m.a.config({DECIMAL_PLACES:r.get("precision")});var k=new m.a(a.max_supply).times(E).toString(),w=new m.a(a.max_market_fee||0).times(E).toString(),A=c.b.getAsset(n.quote.asset_id),x=s.a.get_asset_precision(A.get("precision")),O=c.b.getAsset(n.base.asset_id),P=s.a.get_asset_precision(O.get("precision")),N=new m.a(n.quote.amount).times(x).toString(),C=new m.a(n.base.amount).times(P).toString();console.log("auths:",f);var T={fee:{amount:0,asset_id:0},asset_to_update:r.get("id"),extensions:r.get("extensions"),issuer:e,new_issuer:t,new_options:{max_supply:k,max_market_fee:w,market_fee_percent:100*a.market_fee_percent,description:h,issuer_permissions:u,flags:l,whitelist_authorities:f.whitelist_authorities.toJS(),blacklist_authorities:f.blacklist_authorities.toJS(),whitelist_markets:f.whitelist_markets.toJS(),blacklist_markets:f.blacklist_markets.toJS(),extensions:r.getIn(["options","extensions"]),core_exchange_rate:{quote:{amount:N,asset_id:n.quote.asset_id},base:{amount:C,asset_id:n.base.asset_id}}}};e!==t&&t||delete T.new_issuer,v.add_type_operation("asset_update",T)}if(console.log("bitasset_opts:",d,"original_bitasset_opts:",_),p&&(d.feed_lifetime_sec!==_.feed_lifetime_sec||d.minimum_feeds!==_.minimum_feeds||d.force_settlement_delay_sec!==_.force_settlement_delay_sec||d.force_settlement_offset_percent!==_.force_settlement_offset_percent||d.maximum_force_settlement_volume!==_.maximum_force_settlement_volume||d.short_backing_asset!==_.short_backing_asset)){var S={fee:{amount:0,asset_id:0},asset_to_update:r.get("id"),issuer:e,new_options:d};v.add_type_operation("asset_update_bitasset",S)}return console.log("feedProducers:",b,"originalFeedProducers:",g),p&&!s.a.are_equal_shallow(b,g)&&v.add_type_operation("asset_update_feed_producers",{fee:{amount:0,asset_id:"1.3.0"},issuer:e,asset_to_update:r.get("id"),new_feed_producers:b}),i.a.process_transaction(v,null,!0).then(function(e){return!0}).catch(function(e){return console.log("[AssetActions.js:150] ----- updateAsset error -----\x3e",e),!1})}},{key:"issueAsset",value:function(e,t,a,n,r){l.a.issue_asset(e,t,a,n,r)}},{key:"getAssetList",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=e+"_"+t;return function(o){if(!d[s]){var l;if(d[s]=!0,o({loading:!0}),l=r.Apis.instance().db_api().exec("list_assets",[e,t]).then(function(e){var t=[],a=[];e.forEach(function(e){c.b._updateObject(e,!1),a.push(e.dynamic_asset_data_id),e.bitasset_data_id&&t.push(e.bitasset_data_id)});var n=r.Apis.instance().db_api().exec("get_objects",[a]),l=t.length>0?r.Apis.instance().db_api().exec("get_objects",[t]):null;Promise.all([n,l]).then(function(t){return delete d[s],o({assets:e,dynamic:t[0],bitasset_data:t[1],loading:!1}),e&&e.length})}).catch(function(e){console.log("Error in AssetActions.getAssetList: ",e),o({loading:!1}),delete d[s]}),n){["BRIDGE","GDEX","RUDEX","OPEN","WIN"].forEach(function(t){a.getAssetList(t+"."+e,10)})}return l}}}},{key:"lookupAsset",value:function(e,t){var a=c.b.getAsset(e);return a?{assets:[a],searchID:t,symbol:e}:function(a){setTimeout(function(){var n=c.b.getAsset(e);n&&a({assets:[n],searchID:t,symbol:e})},200)}}},{key:"reserveAsset",value:function(e,t,a){var n=o.a.new_transaction();return n.add_type_operation("asset_reserve",{fee:{amount:0,asset_id:0},amount_to_reserve:{amount:e,asset_id:t},payer:a,extensions:[]}),i.a.process_transaction(n,null,!0).then(function(e){return!0}).catch(function(e){return console.log("[AssetActions.js:150] ----- reserveAsset error -----\x3e",e),!1})}}]),e}();t.a=n.a.createActions(_)},180:function(e,t,a){"use strict";a.d(t,"b",function(){return y}),a.d(t,"a",function(){return g});var n=a(0),r=a.n(n),s=a(2),o=a.n(s),l=(a(1),a(8)),i=a.n(l),c=a(15),u=a(7),m=a(9),p=a(3),d=a.n(p),_=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return h(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,r.a.Component),_(t,[{key:"render",value:function(){var e=this.props,t=e.isActive,a=e.index,n=e.changeTab,s=e.title,o=e.className,l=e.updatedTab,c=e.disabled,u=e.subText,m=i()({"is-active":t},o);return"string"==typeof s&&s.indexOf(".")>0&&(s=d.a.translate(s)),this.props.collapsed?("string"==typeof u&&(u=u.trim()),r.a.createElement("option",{value:a,"data-is-link-to":this.props.isLinkTo},r.a.createElement("span",{className:"tab-title"},s,l?"*":"",u&&" (",u&&u,u&&")"))):r.a.createElement("li",{className:m,onClick:c?null:n.bind(this,a,this.props.isLinkTo)},r.a.createElement("a",null,r.a.createElement("span",{className:"tab-title"},s,l?"*":""),u&&r.a.createElement("div",{className:"tab-subtext"},u)))}}]),t}();g.propTypes={changeTab:o.a.func,isActive:o.a.bool.isRequired,index:o.a.number.isRequired,className:o.a.string,isLinkTo:o.a.string,subText:o.a.oneOfType([o.a.object,o.a.string])},g.defaultProps={isActive:!1,index:0,className:"",isLinkTo:"",subText:null};var y=function(e){function t(e){h(this,t);var a=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.state={activeTab:e.setting?e.viewSettings.get(e.setting,e.defaultActiveTab):e.defaultActiveTab,width:window.innerWidth},a._setDimensions=a._setDimensions.bind(a),a}return b(t,r.a.Component),_(t,[{key:"componentDidMount",value:function(){this._setDimensions(),window.addEventListener("resize",this._setDimensions,{capture:!1,passive:!0})}},{key:"componentWillReceiveProps",value:function(e){var t=e.viewSettings.get(e.setting);t!==this.props.viewSettings.get(this.props.setting)&&this.setState({activeTab:t})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._setDimensions)}},{key:"_setDimensions",value:function(){var e=window.innerWidth;e!==this.state.width&&this.setState({width:e})}},{key:"_changeTab",value:function(e,t){e!==this.state.activeTab&&(""===t?(this.props.setting&&u.a.changeViewSetting(function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({},this.props.setting,e)),this.setState({activeTab:e}),this.props.onChangeTab&&this.props.onChangeTab(e)):this.context.router.push(t))}},{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.contentClass,s=t.tabsClass,o=t.style,l=t.segmented,c=this.state.width<900&&r.a.Children.count(a)>2,u=null,m=r.a.Children.map(a,function(t,a){if(!t)return null;if(c&&t.props.disabled)return null;var n=a===e.state.activeTab;return n&&(u=t.props.children),r.a.cloneElement(t,{collapsed:c,isActive:n,changeTab:e._changeTab.bind(e),index:a})}).filter(function(e){return null!==e});return u||(u=m[0].props.children),r.a.createElement("div",{className:i()(this.props.actionButtons?"with-buttons":"",this.props.className)},r.a.createElement("div",{className:"service-selector"},r.a.createElement("ul",{style:o,className:i()("button-group no-margin",s,{segmented:l})},c?r.a.createElement("li",{style:{paddingLeft:10,paddingRight:10,minWidth:"15rem"}},r.a.createElement("select",{value:this.state.activeTab,style:{marginTop:10,marginBottom:10},className:"bts-select",onChange:function(t){var a=parseInt(t.target.value,10);e._changeTab(a,t.target[a].attributes["data-is-link-to"].value)}},m)):m)),this.props.actionButtons?r.a.createElement("div",{className:"tabs-action-buttons"},this.props.actionButtons):null,r.a.createElement("div",{className:i()("tab-content",n)},u))}}]),t}();y.propTypes={setting:o.a.string,defaultActiveTab:o.a.number,segmented:o.a.bool},y.defaultProps={active:0,defaultActiveTab:0,segmented:!0,contentClass:"",style:{}},y.contextTypes={router:o.a.object.isRequired},y=Object(c.connect)(y,{listenTo:function(){return[m.a]},getProps:function(){return{viewSettings:m.a.getState().viewSettings}}})},220:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(5),o=a(15),l=a(90),i=a(12),c=a(23),u=a(1),m=a.n(u),p=a(4),d=a(11),_=a(17),h=a(8),f=a.n(h),b=a(3),g=a.n(b),y=a(14),v=a(85),E=a(162),k=a(341),w=a(2),A=a.n(w),x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},O=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var P=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={inputChanged:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),O(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.account,a=e.accountName;void 0===t&&(t=p.b.getAccount(a)),this.props.onAccountChanged&&t&&this.props.onAccountChanged(t),!this.props.typeahead&&a&&this.onInputChanged(a)}},{key:"componentWillReceiveProps",value:function(e){e.account&&e.account!==this.props.account&&this.props.onAccountChanged(e.account)}},{key:"getAccount",value:function(){return this.props.account}},{key:"getError",value:function(){var e=this.props,t=e.account,a=e.error;return a||!t||this.getInputType(t.get("name"))||(a=g.a.translate("account.errors.invalid")),a}},{key:"getInputType",value:function(e){return e?"#"===e[0]&&s.a.is_object_id("1.2."+e.substring(1))?"id":p.d.is_account_name(e,!0)?"name":this.props.allowPubKey&&p.i.fromPublicKeyString(e)?"pubkey":null:null}},{key:"onSelected",value:function(e){this.setState({inputChanged:!1});var t=this.getVerifiedAccountName(e),a=p.b.getAccount(t);a&&(this.props.onChange(t),this.props.onAccountChanged(a))}},{key:"onInputChanged",value:function(e){var t=this.props,a=t.onChange,n=t.onAccountChanged,r=t.accountName,s=t.typeahead;this.setState({inputChanged:!0});var o=this.getVerifiedAccountName(e),l=p.b.getAccount(o);a&&o!==r&&a(o),s||(a&&a(o),n&&n(l))}},{key:"getVerifiedAccountName",value:function(e){var t=this.props.allowUppercase,a=null;a="string"==typeof e?e:e&&e.target?e.target.value.trim():"",t||(a=a.toLowerCase());var n=a.replace("#","").match(/(?:\/account\/)(.*)(?:\/overview)/);return n&&(a=n[1]),a}},{key:"onKeyDown",value:function(e){13===e.keyCode&&this.onAction(e)}},{key:"_onAddContact",value:function(){c.a.addAccountContact(this.props.accountName)}},{key:"_onRemoveContact",value:function(){c.a.removeAccountContact(this.props.accountName)}},{key:"onAction",value:function(e){var t=this.props,a=t.onAction,n=t.disableActionButton,r=t.account,s=t.accountName;e.preventDefault(),this.getError()||!a||n||(r?a(r):"pubkey"===this.getInputType(s)&&a(s))}},{key:"render",value:function(){var e=this.props,t=e.accountName,a=e.account,n=e.allowPubKey,s=e.typeahead,o=e.disableActionButton,i=e.contacts,c=e.myActiveAccounts,u=(e.noPlaceHolder,e.useHR),d=e.labelClass,_=e.reserveErrorSpace,h=this.getInputType(t),b=[],w=this.getError(),A=c;A=A.concat(i);var O=void 0;a&&(a.isKnownScammer=v.a.isKnownScammer(a.get("name")),a.accountType=this.getInputType(a.get("name")),a.accountStatus=p.b.getAccountMemberStatus(a),a.statusText=a.isKnownScammer?g.a.translate("account.member.suspected_scammer"):g.a.translate("account.member."+a.accountStatus),O="name"===a.accountType?"#"+a.get("id").substring(4):"id"===a.accountType?a.get("name"):null),s?n&&"pubkey"===h||w||!t||a||(w=g.a.translate("account.errors.unknown")):!a&&t&&"pubkey"!==h&&(w=g.a.translate("account.errors.unknown")),n&&"pubkey"===h&&(O="Public Key"),a&&A&&(a.isFavorite=c.has(a.get("name"))||i.has(a.get("name"))),s&&A&&A.map(function(e){var t=p.b.getAccount(e),a=p.b.getAccountMemberStatus(t),n=v.a.isKnownScammer(e)?"account.member.suspected_scammer":"account.member."+a;b.push({id:e,label:e,status:g.a.translate(n),className:v.a.isKnownScammer(e)?"negative":"positive"})});var P=!!t&&b.reduce(function(e,a){return e||a.label===t},!1);if(t&&!P&&this.state.inputChanged){var N=p.b.getAccount(t),C=N?p.b.getAccountMemberStatus(N):null,T=N?v.a.isKnownScammer(N.get("name"))?g.a.translate("account.member.suspected_scammer"):g.a.translate("account.member."+C):g.a.translate("account.errors.unknown");b.push({id:this.props.accountName,label:this.props.accountName,status:T,className:v.a.isKnownScammer(t)||!N?"negative":null,disabled:!N})}b.sort(function(e,t){return e.label>t.label?1:-1});var S=this.props.account?c.has(a.get("name"))||i.has(a.get("name"))?r.a.createElement("span",{className:"tooltip green","data-place":"top","data-tip":g.a.translate("tooltip.follow_user"),onClick:this._onRemoveContact.bind(this)},r.a.createElement(y.a,{style:{position:"absolute",top:"-0.15em",right:".2em"},name:"user",title:"icons.user.following"})):r.a.createElement("span",{className:"tooltip","data-place":"top","data-tip":g.a.translate("tooltip.follow_user_add"),onClick:this._onAddContact.bind(this)},r.a.createElement(y.a,{style:{position:"absolute",top:"-0.05em",right:".2em"},name:"plus-circle",title:"icons.plus_circle.add_contact"})):null,j=f()("button btn large outline",{disabled:!(a||"pubkey"===h)||w||o});return r.a.createElement("div",{className:"account-selector",style:this.props.style},r.a.createElement("div",{className:"content-area"},this.props.label?r.a.createElement("div",{className:"header-area"+(this.props.hideImage?" no-margin":"")},r.a.createElement("label",{className:f()("right-label",a&&a.isFavorite?"positive":null,a&&a.isKnownScammer?"negative":null)},r.a.createElement("span",{style:{paddingRight:"1.5rem"}},a&&a.statusText," ",!!O&&O),S),r.a.createElement(m.a,{className:"left-label "+(d||""),component:"label",content:this.props.label}),u&&r.a.createElement("hr",null)):null,r.a.createElement("div",{className:"input-area"},r.a.createElement("div",{className:"inline-label input-wrapper"},a&&"pubkey"===a.accountType?r.a.createElement("div",{className:"account-image"},r.a.createElement(y.a,{name:"key",title:"icons.key",size:"4x"})):this.props.hideImage?null:r.a.createElement(l.a,{size:{height:this.props.size||80,width:this.props.size||80},account:a?a.get("name"):null,custom_image:null}),void 0!==this.props.typeahead?r.a.createElement(k.a,x({items:b,style:{textTransform:"pubkey"===this.getInputType(t)?null:"lowercase",fontVariant:"initial"},name:"username",id:"username",defaultValue:this.props.accountName||"",placeholder:this.props.placeholder||g.a.translate("account.name"),ref:"user_input",onSelect:this.onSelected.bind(this),onChange:this.onInputChanged.bind(this),onKeyDown:this.onKeyDown.bind(this),tabIndex:this.props.tabIndex,inputProps:{placeholder:"Search for an account"}},this.props.typeaheadOptions||{})):r.a.createElement("input",{style:{textTransform:"pubkey"===this.getInputType(t)?null:"lowercase",fontVariant:"initial"},name:"username",id:"username",type:"text",value:this.props.accountName||"",placeholder:this.props.placeholder||g.a.translate("account.name"),ref:"user_input",onChange:this.onInputChanged.bind(this),onKeyDown:this.onKeyDown.bind(this),tabIndex:this.props.tabIndex}),this.props.dropDownContent?r.a.createElement("div",{className:"form-label select floating-dropdown"},r.a.createElement(E.a,{entries:this.props.dropDownContent,values:this.props.dropDownContent.reduce(function(e,t){return t&&(e[t]=t),e},{}),singleEntry:this.props.dropDownContent[0],value:this.props.dropDownValue||"",onChange:this.props.onDropdownSelect})):null,this.props.children,this.props.onAction?r.a.createElement("button",{className:j,style:{marginLeft:4},onClick:this.onAction.bind(this)},r.a.createElement(m.a,{content:this.props.action_label})):null)),w||_?r.a.createElement("div",{className:this.props.hideImage?"has-error":"error-area",style:{marginTop:"1rem",position:"relative"}},r.a.createElement("span",null,w)):null))}}]),t}();P.propTypes={label:A.a.string,error:A.a.element,placeholder:A.a.string,onChange:A.a.func,onAccountChanged:A.a.func,onAction:A.a.func,accountName:A.a.string,account:d.a.ChainAccount,tabIndex:A.a.number,disableActionButton:A.a.bool,allowUppercase:A.a.bool,typeahead:A.a.array},P.defaultProps={autosubscribe:!1},P=Object(_.a)(P),P=Object(o.connect)(P,{listenTo:function(){return[i.a]},getProps:function(){return{myActiveAccounts:i.a.getState().myActiveAccounts,contacts:i.a.getState().accountContacts}}}),t.a=P},312:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(10),o=a(15),l=a(9),i=a(1),c=a.n(i),u=a(44),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),m(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"page-404"},r.a.createElement("div",{className:"page-404-container"},r.a.createElement("div",{className:"page-404-logo"},r.a.createElement("img",{src:u.logoLight,height:"50px",width:"50px",alt:"Logo"})),r.a.createElement("div",{className:"page-404-title"},r.a.createElement(c.a,{content:"page404.page_not_found_title"})),r.a.createElement("div",{className:"page-404-subtitle"},r.a.createElement(c.a,{content:"page404."+this.props.subtitle})),r.a.createElement("div",{className:"page-404-button-back"},r.a.createElement(s.b,{to:"/"},r.a.createElement(c.a,{component:"button",className:"btn large inverted flat",content:"page404.home"})))))}}]),t}();p.defaultProps={subtitle:"page_not_found_subtitle"},t.default=p=Object(o.connect)(p,{listenTo:function(){return[l.a]},getProps:function(){return{theme:l.a.getState().settings.get("themes")}}})},7814:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(10),o=a(1),l=a.n(o),i=a(70),c=a(65),u=a(18),m=a(75),p=a(21),d=a(165),_=a(104),h=a(94),f=a(5),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={time:e.time},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),b(t,[{key:"getHours",value:function(e){return e/3600}},{key:"render",value:function(){return r.a.createElement("div",null,this.getHours(this.state.time),"h")}}]),t}(),y=a(4),v=a(19),E=a(180),k=a(20),w=a(312),A=(a(8),a(3)),x=a.n(A),O=a(220),P=a(78),N=a(2),C=a.n(N),T=a(11),S=a(17),j=a(51),I=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var D=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),I(t,[{key:"getFee",value:function(){return Object(j.c)(this.props.opType,this.props.options,this.props.globalObject)}},{key:"render",value:function(){var e=this.props,t=e.opType,a=e.options,n=e.globalObject;if(!t||!a||!n)return null;var s=Object(j.c)(t,a,n);return r.a.createElement(u.a,{amount:s,asset:"1.3.0"})}}]),t}();D.propTypes={globalObject:T.a.ChainObject.isRequired,opType:C.a.string,options:C.a.array},D.defaultProps={globalObject:"2.0.0",options:[]};var R=Object(S.a)(D),q=a(123);var F=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return function(n){return e.setState(function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({},t,a(n)))}},L=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return K.call(a),a.state=a.initialState(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),t}(),K=function(){var e,t=this;this.onAccountNameChanged=F(this,"funderAccountName"),this.onAccountChanged=F(this,"newFunderAccount"),this.onPoolInput=F(this,"fundPoolAmount",(e="amount",function(t){return t[e]})),this.onFundPool=function(){return q.a.fundPool(t.state.newFunderAccount?t.state.newFunderAccount.get("id"):null,t.props.core,t.props.asset,t.state.fundPoolAmount.replace(/,/g,""))},this.reset=function(){t.setState(t.initialState())},this.initialState=function(){return{funderAccountName:t.props.funderAccountName,fundPoolAmount:0}},this.render=function(){var e=t.props,a=t.state,n=t.onPoolInput,s=t.onFundPool,o=t.reset,i=t.onAccountNameChanged,c=t.onAccountChanged,m=e.asset,p=e.core,d=e.hideBalance,_=e.getDynamicObject,h=a.funderAccountName,f=a.fundPoolAmount,b=a.newFunderAccount,g=null;d||(g=_(m.get("dynamic_asset_data_id")));var v=p.get("id")||"1.3.0",E=0;if(b){var k=b.getIn(["balances",v]);if(k){var w=y.b.getObject(k);w&&(E=w.get("balance"))}}var A=r.a.createElement("span",null,r.a.createElement(l.a,{component:"span",content:"transfer.available"}),": ",r.a.createElement(u.a,{amount:E,asset:v}));return r.a.createElement("div",null,r.a.createElement(l.a,{component:"p",content:"explorer.asset.fee_pool.fund_text",asset:m.get("symbol"),core:p.get("symbol")}),d||r.a.createElement("div",{style:{paddingBottom:"1.5rem"}},r.a.createElement(l.a,{content:"explorer.asset.fee_pool.pool_balance"}),r.a.createElement("span",null,": "),g?r.a.createElement(u.a,{amount:g.get("fee_pool"),asset:v}):null),r.a.createElement(O.a,{label:"transaction.funding_account",accountName:h,onChange:i,onAccountChanged:c,account:h,error:null,tabIndex:1}),r.a.createElement(P.a,{label:"transfer.amount",display_balance:A,amount:f,onChange:n,asset:v,assets:[v],placeholder:"0.0",tabIndex:2,style:{width:"100%",paddingTop:16}}),r.a.createElement("div",{style:{paddingTop:"1rem"}},r.a.createElement("button",{className:"btn large inverted",disabled:f<=0,onClick:s},x.a.translate("transaction.trxTypes.asset_fund_fee_pool")),r.a.createElement("button",{className:"btn large outline",onClick:o},x.a.translate("account.perm.reset")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement(l.a,{content:"account.user_issued_assets.approx_fee"}),": ",r.a.createElement(R,{opType:"asset_fund_fee_pool"})),r.a.createElement("hr",null)))}},B=L=Object(c.a)(L,{propNames:["asset","core"],defaultProps:{core:"1.3.0"},withDynamic:!0}),M=a(12),z=a(15),J=a(118),V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},W=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function U(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function X(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Z=function(e){function t(){return G(this,t),H(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return X(t,r.a.Component),W(t,[{key:"render",value:function(){var e=this.props,t=e.isSet,a=e.name;return t?r.a.createElement("label",{className:"btn orange"},r.a.createElement(l.a,{content:"account.user_issued_assets."+a})):r.a.createElement("span",null)}}]),t}(),Q=function(e){function t(){return G(this,t),H(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return X(t,r.a.Component),W(t,[{key:"render",value:function(){var e=this.props,t=e.isSet,a=e.name;return t?r.a.createElement("label",{className:"btn orange"},r.a.createElement(l.a,{content:"account.user_issued_assets."+a})):r.a.createElement("span",null)}}]),t}(),Y=function(e){function t(e){G(this,t);var a=H(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={callOrders:[],marginTableSort:"price",sortDirection:!0},a}return X(t,r.a.Component),W(t,[{key:"componentWillMount",value:function(){var e=this;if(this.props.asset.has("bitasset")){var t,a=(U(t={},this.props.asset.get("id"),this.props.asset.toJS()),U(t,this.props.backingAsset.get("id"),this.props.backingAsset.toJS()),t),n=this.props.asset.getIn(["bitasset","is_prediction_market"],!1),r=this.props.asset.getIn(["bitasset","current_feed","maximum_short_squeeze_ratio"]),s=this.props.asset.getIn(["bitasset","current_feed","settlement_price"]);n&&s.getIn(["base","asset_id"])===s.getIn(["quote","asset_id"])&&(a[this.props.backingAsset.get("id")]||(a[this.props.backingAsset.get("id")]={precision:this.props.asset.get("precision")}),s=(s=(s=(s=s.setIn(["base","amount"],1)).setIn(["base","asset_id"],this.props.backingAsset.get("id"))).setIn(["quote","amount"],1)).setIn(["quote","asset_id"],this.props.asset.get("id")),r=1e3);try{var o=new k.c({priceObject:s,market_base:this.props.asset.get("id"),sqr:r,assets:a});v.Apis.instance().db_api().exec("get_call_orders",[this.props.asset.get("id"),300]).then(function(t){var r=t.map(function(t){return new k.b(t,a,e.props.asset.get("id"),o,n)});e.setState({callOrders:r})})}catch(e){}}}},{key:"_toggleSortOrder",value:function(e){e!==this.state.marginTableSort?this.setState({marginTableSort:e}):this.setState({sortDirection:!this.state.sortDirection})}},{key:"_assetType",value:function(e){return"bitasset"in e?e.bitasset.is_prediction_market?"Prediction":"Smart":"Simple"}},{key:"renderFlagIndicators",value:function(e,t){return r.a.createElement("div",null,t.map(function(t){return r.a.createElement(Z,{key:"flag_"+t,name:t,isSet:e[t]})}))}},{key:"renderPermissionIndicators",value:function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",{colspan:"2"},r.a.createElement("div",{className:"table-blocks__item__table__labels"},t.map(function(t){return r.a.createElement(Q,{key:"perm_"+t,name:t,isSet:e[t]})}))))}},{key:"formattedPrice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.base,s=e.quote;return r.a.createElement(m.a,{base_amount:n.amount,base_asset:n.asset_id,quote_amount:s.amount,quote_asset:s.asset_id,hide_value:a,hide_symbols:t})}},{key:"renderAuthorityList",value:function(e){return e.map(function(e){return r.a.createElement("span",null," ",r.a.createElement(i.a,{account:e}))})}},{key:"renderMarketList",value:function(e,t){var a=e.symbol;return t.map(function(e){if(e==a)return null;var t=e+"_"+a,n=e+"/"+a;return r.a.createElement("span",null,r.a.createElement(s.b,{to:"/market/"+t},n)," "," ")}.bind(this))}},{key:"renderAboutBox",value:function(e,t){var a=y.b.getObject(e.issuer,!1,!1),n=a?a.get("name"):"",o=h.a.parseDescription(e.options.description),i=o.main,c=o.short_name?o.short_name:null,u=(i=i&&i.length>0?i+" ":i).match(/(http?):\/\/(www\.)?[a-z0-9\.:].*?(?=\s)/g),m=y.b.getAsset("1.3.0"),p=o.market?o.market:m?m.get("symbol"):"LLC";"bitasset"in e&&e.bitasset.is_prediction_market&&(p=(p=y.b.getAsset(e.bitasset.options.short_backing_asset))?p.get("symbol"):m.get("symbol")),e.symbol===m.get("symbol")&&(p="USD"),u&&u.length&&u.forEach(function(e){var t='<a target="_blank" rel="noopener noreferrer" href="'+e+'">'+e+"</a>";i=i.replace(e,t)});var d=f.a.replaceName(t),b=d.name,g=d.prefix;return r.a.createElement("div",{style:{overflow:"visible"}},r.a.createElement(_.a,{path:"assets/"+e.symbol,alt_path:"assets/Asset",section:"summary",symbol:(g||"")+b,description:i,issuer:n,hide_issuer:"true"}),c?r.a.createElement("p",null,c):null,r.a.createElement("button",{className:"btn large inverted marketw3c-btn"},r.a.createElement(s.b,{to:"/market/"+e.symbol+"_"+p},r.a.createElement(l.a,{content:"exchange.market"})," ",r.a.createElement("span",null,e.symbol," / ",p))))}},{key:"renderSummary",value:function(e){var t=this.props.getDynamicObject(e.dynamic_asset_data_id);t&&(t=t.toJS());var a=e.options,n=h.a.getFlagBooleans(e.options.flags,this.props.asset.has("bitasset_data_id")),s=Object.keys(n),o=t?r.a.createElement("tr",null,r.a.createElement("td",null," ",r.a.createElement(l.a,{content:"explorer.asset.summary.current_supply"})," "),r.a.createElement("td",null," ",r.a.createElement(u.a,{amount:t.current_supply,asset:e.id})," ")):null,c=t?r.a.createElement("tr",null,r.a.createElement("td",null," ",r.a.createElement(l.a,{content:"explorer.asset.summary.stealth_supply"})," "),r.a.createElement("td",null," ",r.a.createElement(u.a,{amount:t.confidential_supply,asset:e.id})," ")):null,m=n.charge_market_fee?r.a.createElement("tr",null,r.a.createElement("td",null," ",r.a.createElement(l.a,{content:"explorer.asset.summary.market_fee"})," "),r.a.createElement("td",null," ",a.market_fee_percent/100," % ")):null,d=n.charge_market_fee?r.a.createElement("tr",null,r.a.createElement("td",null," ",r.a.createElement(l.a,{content:"explorer.asset.summary.max_market_fee"})," "),r.a.createElement("td",null," ",r.a.createElement(u.a,{amount:+a.max_market_fee,asset:e.id})," ")):null;return r.a.createElement("div",{className:"table-blocks__item"},r.a.createElement("h5",{className:"table-blocks__item__heading"},r.a.createElement(p.a,{name:e.symbol})),r.a.createElement("table",{className:"table-blocks__item__table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null," ",r.a.createElement(l.a,{content:"explorer.asset.summary.asset_type"})," "),r.a.createElement("td",null," ",this._assetType(e)," ")),r.a.createElement("tr",null,r.a.createElement("td",null," ",r.a.createElement(l.a,{content:"explorer.asset.summary.issuer"})," "),r.a.createElement("td",null," ",r.a.createElement(i.a,{account:e.issuer})," ")),r.a.createElement("tr",null,r.a.createElement("td",null," ",r.a.createElement(l.a,{content:"explorer.assets.precision"})," "),r.a.createElement("td",null," ",e.precision," ")),o,c,m,d)),this.renderFlagIndicators(n,s))}},{key:"renderPriceFeed",value:function(e,t){var a=r.a.createElement(l.a,{content:"explorer.asset.price_feed.title"}),n=e.bitasset;if(!("current_feed"in n))return r.a.createElement("div",{header:a});var s=n.current_feed,o=n.options.force_settlement_delay_sec,i=n.options.force_settlement_offset_percent,c=this.getGlobalSettlementPrice();return r.a.createElement("div",{className:"table-blocks__item"},r.a.createElement("h5",{className:"table-blocks__item__heading"},a),r.a.createElement("table",{className:"table-blocks__item__table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null," ",r.a.createElement(l.a,{content:"explorer.asset.price_feed.settlement_price"})," "),r.a.createElement("td",null," ",this.formattedPrice(s.settlement_price)," ")),r.a.createElement("tr",null,r.a.createElement("td",null," ",r.a.createElement(l.a,{content:"explorer.asset.price_feed.maintenance_collateral_ratio"})," "),r.a.createElement("td",null," ",s.maintenance_collateral_ratio/10,"%"," ")),r.a.createElement("tr",null,r.a.createElement("td",null," ",r.a.createElement(l.a,{content:"explorer.asset.price_feed.maximum_short_squeeze_ratio"})," "),r.a.createElement("td",null," ",s.maximum_short_squeeze_ratio/10,"%"," ")),r.a.createElement("tr",null,r.a.createElement("td",null," ",r.a.createElement(l.a,{content:"explorer.asset.price_feed.global_settlement_price"})," "),r.a.createElement("td",null," ",c||"-"," ")))),r.a.createElement("table",{className:"table-blocks__item__table",style:{marginTop:"2rem"}},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null," ",r.a.createElement(l.a,{content:"explorer.asset.price_feed.settlement_delay"})," "),r.a.createElement("td",null," ",r.a.createElement(g,{time:o})," ")),r.a.createElement("tr",null,r.a.createElement("td",null," ",r.a.createElement(l.a,{content:"explorer.asset.price_feed.force_settlement_offset"})," "),r.a.createElement("td",null," ",i/100,"% ")))))}},{key:"renderFeePool",value:function(e){var t=this.props.getDynamicObject(e.dynamic_asset_data_id);t&&(t=t.toJS());var a=e.options;return r.a.createElement("div",{className:"table-blocks__item"},r.a.createElement("h5",{className:"table-blocks__item__heading"},x.a.translate("explorer.asset.fee_pool.title")),r.a.createElement("table",{className:"table-blocks__item__table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null," ",r.a.createElement(l.a,{content:"explorer.asset.fee_pool.core_exchange_rate"})," "),r.a.createElement("td",null," ",this.formattedPrice(a.core_exchange_rate)," ")),r.a.createElement("tr",null,r.a.createElement("td",null," ",r.a.createElement(l.a,{content:"explorer.asset.fee_pool.pool_balance"})," "),r.a.createElement("td",null," ",t?r.a.createElement(u.a,{asset:"1.3.0",amount:t.fee_pool}):null," ")),r.a.createElement("tr",null,r.a.createElement("td",null," ",r.a.createElement(l.a,{content:"explorer.asset.fee_pool.unclaimed_issuer_income"})," "),r.a.createElement("td",null," ",t?r.a.createElement(u.a,{asset:e.id,amount:t.accumulated_fees}):null," ")))),r.a.createElement(B,{asset:e.symbol,funderAccountName:this.props.currentAccount,hideBalance:!0}))}},{key:"renderPermissions",value:function(e){var t=e.options,a=h.a.getFlagBooleans(e.options.issuer_permissions,this.props.asset.has("bitasset_data_id")),n=Object.keys(a),s=a.charge_market_fee?r.a.createElement("tr",null,r.a.createElement("td",null," ",r.a.createElement(l.a,{content:"explorer.asset.permissions.max_market_fee"})," "),r.a.createElement("td",null," ",r.a.createElement(u.a,{amount:+t.max_market_fee,asset:e.id})," ")):null,o=r.a.createElement("tr",null,r.a.createElement("td",null," ",r.a.createElement(l.a,{content:"explorer.asset.permissions.max_supply"})," "),r.a.createElement("td",null," ",r.a.createElement(u.a,{amount:+t.max_supply,asset:e.id})," "));a.white_list&&r.a.createElement("span",null,r.a.createElement("br",null),r.a.createElement(l.a,{content:"explorer.asset.permissions.blacklist_authorities"}),":  ",this.renderAuthorityList(t.blacklist_authorities),r.a.createElement("br",null),r.a.createElement(l.a,{content:"explorer.asset.permissions.blacklist_markets"}),":  ",this.renderMarketList(e,t.blacklist_markets),r.a.createElement("br",null),r.a.createElement(l.a,{content:"explorer.asset.permissions.whitelist_authorities"}),":  ",this.renderAuthorityList(t.whitelist_authorities),r.a.createElement("br",null),r.a.createElement(l.a,{content:"explorer.asset.permissions.whitelist_markets"}),":  ",this.renderMarketList(e,t.whitelist_markets));return r.a.createElement("div",{className:"table-blocks__item"},r.a.createElement("h5",{className:"table-blocks__item__heading"},x.a.translate("explorer.asset.permissions.title")),r.a.createElement("table",{className:"table key-value-table table-hover",style:{padding:"1.2rem"}},r.a.createElement("tbody",null,s,o)),this.renderPermissionIndicators(a,n))}},{key:"getMarginPositions",value:function(){var e=this.state.sortDirection,t={name:function(t,a){var n=y.b.getAccount(t.borrower,!1);n&&(n=n.get("name"));var r=y.b.getAccount(a.borrower,!1);return r&&(r=r.get("name")),n>r?e?1:-1:n<r?e?-1:1:0},price:function(t,a){return(e?1:-1)*(t.call_price.toReal()-a.call_price.toReal())},collateral:function(t,a){return(e?1:-1)*(a.getCollateral().getAmount()-t.getCollateral().getAmount())},debt:function(t,a){return(e?1:-1)*(a.amountToReceive().getAmount()-t.amountToReceive().getAmount())},ratio:function(t,a){return(e?1:-1)*(t.getRatio()-a.getRatio())}};return this.state.callOrders.sort(t[this.state.marginTableSort])}},{key:"getGlobalSettlementPriceFromSorted",value:function(e){if(console.log("global settlement sorted called"),!e||e.length<=0)return console.log("length array 0 passed in"),null;console.log("sortedCallOrders exists according to sorted get globa");var t=e[0],a=t.amountToReceive().getAmount(),n=t.getCollateral().getAmount();return r.a.createElement(m.a,{base_amount:n,base_asset:t.call_price.base.asset_id,quote_amount:a,quote_asset:t.call_price.quote.asset_id})}},{key:"getGlobalSettlementPrice",value:function(){if(!this.state.callOrders)return null;this.state.callOrders;for(var e=null,t=null,a=this.state.callOrders.length,n=0;n<a;n++){var s=this.state.callOrders[n];null==e?(e=s,t=s.getRatio()):s.getRatio()<t&&(t=s.getRatio(),e=s)}if(null==e)return console.log("couldn't find the least col short"),null;var o=e.amountToReceive().getAmount(),l=e.getCollateral().getAmount();return r.a.createElement(m.a,{base_amount:l,base_asset:e.call_price.base.asset_id,quote_amount:o,quote_asset:e.call_price.quote.asset_id})}},{key:"renderPriceFeedData",value:function(e,t){var a=e.bitasset;if(!("feeds"in a)||0==a.feeds.length||a.is_prediction_market)return null;var n=(new Date).getTime(),s=new Date(n-1e3*e.bitasset.options.feed_lifetime_sec),o=a.feeds;if(!(o=o.filter(function(e){return new Date(e[1][0])>s}).sort(function(e,t){return new Date(t[1][0])-new Date(e[1][0])})).length)return null;for(var c=[],p=o[0][1][1].settlement_price,_=o[0][1][1].core_exchange_rate,h=r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{textAlign:"left"}}," ",r.a.createElement(l.a,{content:"explorer.asset.price_feed_data.publisher"})," "),r.a.createElement("th",null,r.a.createElement(l.a,{content:"explorer.asset.price_feed_data.settlement_price"}),r.a.createElement("br",null),"(",this.formattedPrice(p,!1,!0),")"),r.a.createElement("th",null,r.a.createElement(l.a,{content:"explorer.asset.price_feed_data.core_exchange_rate"}),r.a.createElement("br",null),"(",this.formattedPrice(_,!1,!0),")"),r.a.createElement("th",null," ",r.a.createElement(l.a,{content:"explorer.asset.price_feed_data.maintenance_collateral_ratio"})," "),r.a.createElement("th",null," ",r.a.createElement(l.a,{content:"explorer.asset.price_feed_data.maximum_short_squeeze_ratio"})," "),r.a.createElement("th",null," ",r.a.createElement(l.a,{content:"explorer.asset.price_feed_data.published"})," "))),f=0;f<o.length;f++){var b=o[f],g=b[0],y=new Date(b[1][0]+"Z"),v=b[1][1].settlement_price,k=b[1][1].core_exchange_rate,w=b[1][1].maintenance_collateral_ratio/10+"%",A=b[1][1].maximum_short_squeeze_ratio/10+"%";c.push(r.a.createElement("tr",{key:g},r.a.createElement("td",null," ",r.a.createElement(i.a,{account:g})," "),r.a.createElement("td",{style:{textAlign:"right"}},this.formattedPrice(v,!0)),r.a.createElement("td",{style:{textAlign:"right"}}," ",this.formattedPrice(k,!0)," "),r.a.createElement("td",{style:{textAlign:"right"}}," ",w),r.a.createElement("td",{style:{textAlign:"right"}}," ",A),r.a.createElement("td",{style:{textAlign:"right"}},r.a.createElement(d.a,{time:y}))))}var x=r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"clickable",onClick:this._toggleSortOrder.bind(this,"name"),style:{textAlign:"left"}},r.a.createElement(l.a,{content:"transaction.borrower"})),r.a.createElement("th",{className:"clickable",onClick:this._toggleSortOrder.bind(this,"collateral")},r.a.createElement(l.a,{content:"transaction.collateral"}),this.state.callOrders.length?r.a.createElement("span",null," (",r.a.createElement(u.a,{amount:this.state.callOrders[0].getCollateral().getAmount(),asset:this.state.callOrders[0].getCollateral().asset_id,hide_amount:!0})," ",")"):null),r.a.createElement("th",{className:"clickable",onClick:this._toggleSortOrder.bind(this,"debt")},r.a.createElement(l.a,{content:"transaction.borrow_amount"}),this.state.callOrders.length?r.a.createElement("span",null," (",r.a.createElement(u.a,{amount:this.state.callOrders[0].amountToReceive().getAmount(),asset:this.state.callOrders[0].amountToReceive().asset_id,hide_amount:!0})," ",")"):null),r.a.createElement("th",{style:{paddingRight:10},className:"clickable"},r.a.createElement("span",{onClick:this._toggleSortOrder.bind(this,"price")},r.a.createElement(l.a,{content:"exchange.call"})),this.state.callOrders.length?r.a.createElement("span",null," (",r.a.createElement(m.a,{base_amount:this.state.callOrders[0].call_price.base.amount,base_asset:this.state.callOrders[0].call_price.base.asset_id,quote_amount:this.state.callOrders[0].call_price.quote.amount,quote_asset:this.state.callOrders[0].call_price.quote.asset_id,hide_value:!0,noPopOver:!0}),")"):null),r.a.createElement("th",{className:"clickable",onClick:this._toggleSortOrder.bind(this,"ratio")},r.a.createElement(l.a,{content:"borrow.coll_ratio"})))),O=t.map(function(e){return r.a.createElement("tr",{className:"margin-row",key:e.id},r.a.createElement("td",null,r.a.createElement(i.a,{account:e.borrower})),r.a.createElement("td",{style:{textAlign:"right"}},r.a.createElement(u.a,{amount:e.getCollateral().getAmount(),asset:e.getCollateral().asset_id,hide_asset:!0})),r.a.createElement("td",{style:{textAlign:"right"}},r.a.createElement(u.a,{amount:e.amountToReceive().getAmount(),asset:e.amountToReceive().asset_id,hide_asset:!0})),r.a.createElement("td",{style:{textAlign:"right",paddingRight:10}},r.a.createElement(m.a,{base_amount:e.call_price.base.amount,base_asset:e.call_price.base.asset_id,quote_amount:e.call_price.quote.amount,quote_asset:e.call_price.quote.asset_id,hide_symbols:!0})),r.a.createElement("td",{className:e.getStatus(),style:{textAlign:"right"}},e.getRatio().toFixed(3)))});return r.a.createElement("div",{className:"grid-block"},r.a.createElement("div",{className:"grid-content no-padding"},r.a.createElement("div",{className:""},r.a.createElement(E.b,{defaultActiveTab:0,segmented:!1,setting:"bitassetDataTabs"},r.a.createElement(E.a,{title:"explorer.asset.price_feed_data.title"},r.a.createElement("div",{className:"responsive-table"},r.a.createElement("table",{className:" table order-table table-hover",style:{padding:"1.2rem"}},h,r.a.createElement("tbody",null,c)))),r.a.createElement(E.a,{title:"explorer.asset.margin_positions.title"},r.a.createElement("table",{className:" table order-table table-hover",style:{padding:"1.2rem"}},x,r.a.createElement("tbody",null,O)))))))}},{key:"render",value:function(){var e=this.props.asset.toJS(),t=this.getMarginPositions(),a="bitasset"in e?this.renderPriceFeed(e,t):null;"bitasset"in e&&this.renderPriceFeedData(e,t);return r.a.createElement("div",{className:"content",style:{margin:20}},r.a.createElement("h2",{className:"content__heading"},r.a.createElement(J.a,{showIcon:!0,asset:e.id})),this.renderAboutBox(e,this.props.asset),r.a.createElement("div",{className:"table-blocks"},this.renderSummary(e),a||this.renderPermissions(e),this.renderFeePool(e),a?this.renderPermissions(e):null))}}]),t}();Y=Object(z.connect)(Y,{listenTo:function(){return[M.a]},getProps:function(){v.Apis.instance().chain_id;return{currentAccount:M.a.getState().currentAccount||M.a.getState().passwordAccount}}}),Y=Object(c.a)(Y,{propNames:["backingAsset"]});var $=function(e){function t(){return G(this,t),H(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return X(t,r.a.Component),W(t,[{key:"render",value:function(){if(null===this.props.asset)return r.a.createElement(w.default,{subtitle:"asset_not_found_subtitle"});var e=this.props.asset.has("bitasset")?this.props.asset.getIn(["bitasset","options","short_backing_asset"]):"1.3.0";return r.a.createElement(Y,V({},this.props,{backingAsset:e}))}}]),t}();$=Object(c.a)($,{withDynamic:!0});var ee=function(e){function t(){return G(this,t),H(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return X(t,r.a.Component),W(t,[{key:"render",value:function(){var e=this.props.params.symbol.toUpperCase();return r.a.createElement($,V({},this.props,{asset:e}))}}]),t}();t.default=ee}}]);